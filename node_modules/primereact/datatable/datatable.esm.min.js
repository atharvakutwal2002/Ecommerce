import*as e from"react";import t,{FilterMatchMode as n,ariaLabel as o,localeOption as r,FilterOperator as l,FilterService as a}from"primereact/api";import{ObjectUtils as i,classNames as c,DomHandler as u,ZIndexUtils as s,UniqueComponentId as d}from"primereact/utils";import{useEventListener as p,useUpdateEffect as f,useUnmountEffect as m,useOverlayListener as g,usePrevious as w,useMountEffect as b}from"primereact/hooks";import{Paginator as v}from"primereact/paginator";import{VirtualScroller as h}from"primereact/virtualscroller";import{OverlayService as y}from"primereact/overlayservice";import{Ripple as C}from"primereact/ripple";import{Button as E}from"primereact/button";import{CSSTransition as S}from"primereact/csstransition";import{Dropdown as R}from"primereact/dropdown";import{InputText as x}from"primereact/inputtext";import{Portal as M}from"primereact/portal";import{Tooltip as O}from"primereact/tooltip";function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},D.apply(this,arguments)}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function I(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==k(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function F(e){var t=I(e,"string");return"symbol"===k(t)?t:String(t)}function P(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function z(e){if(Array.isArray(e))return N(e)}function T(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function j(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e){return z(e)||T(e)||j(e)||A()}function K(e){if(Array.isArray(e))return e}function B(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,l,a,i=[],c=!0,u=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=l.call(n)).done)&&(i.push(o.value),i.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return i}}function G(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){return K(e)||B(e,t)||j(e,t)||G()}var V={defaultProps:{__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:"pi pi-bars",rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null,children:void 0},getCProp:function(e,t){return i.getComponentProp(e,t,V.defaultProps)},getCProps:function(e){return i.getComponentProps(e,V.defaultProps)},getCOtherProps:function(e){return i.getComponentDiffProps(e,V.defaultProps)}},U={defaultProps:{__TYPE:"DataTable",alwaysShowPaginator:!0,breakpoint:"960px",cellClassName:null,cellSelection:!1,className:null,collapsedRowIcon:"pi pi-chevron-right",columnResizeMode:"fit",compareSelectionBy:"deepEquals",contextMenuSelection:null,csvSeparator:",",currentPageReportTemplate:"({currentPage} of {totalPages})",customRestoreState:null,customSaveState:null,dataKey:null,defaultSortOrder:1,dragSelection:!1,editMode:"cell",editingRows:null,emptyMessage:null,expandableRowGroups:!1,expandedRowIcon:"pi pi-chevron-down",expandedRows:null,exportFilename:"download",exportFunction:null,filterDelay:300,filterDisplay:"menu",filterLocale:void 0,filters:null,first:0,footer:null,footerColumnGroup:null,frozenValue:null,frozenWidth:null,globalFilter:null,globalFilterFields:null,globalFilterMatchMode:n.CONTAINS,groupRowsBy:null,header:null,headerColumnGroup:null,id:null,isDataSelectable:null,lazy:!1,loading:!1,loadingIcon:"pi pi-spinner",metaKeySelection:!0,multiSortMeta:null,onAllRowsSelect:null,onAllRowsUnselect:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onColReorder:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onContextMenu:null,onContextMenuSelectionChange:null,onFilter:null,onPage:null,onRowClick:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowCollapse:null,onRowDoubleClick:null,onRowEditCancel:null,onRowEditChange:null,onRowEditComplete:null,onRowEditInit:null,onRowEditSave:null,onRowExpand:null,onRowReorder:null,onRowSelect:null,onRowToggle:null,onRowUnselect:null,onSelectAllChange:null,onSelectionChange:null,onSort:null,onStateRestore:null,onStateSave:null,onValueChange:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",removableSort:!1,reorderableColumns:!1,reorderableRows:!1,resizableColumns:!1,responsiveLayout:"scroll",rowClassName:null,rowEditValidator:null,rowExpansionTemplate:null,rowGroupFooterTemplate:null,rowGroupHeaderTemplate:null,rowGroupMode:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectAll:!1,selectOnEdit:!0,selection:null,selectionAriaLabel:null,selectionAutoFocus:!0,selectionMode:null,selectionPageOnly:!1,showGridlines:!1,showRowReorderElement:null,showSelectAll:!0,showSelectionElement:null,size:"normal",sortField:null,sortMode:"single",sortOrder:null,stateKey:null,stateStorage:"session",stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,virtualScrollerOptions:null,children:void 0},getProps:function(e){return i.getMergedProps(e,U.defaultProps)},getOtherProps:function(e){return i.getDiffProps(e,U.defaultProps)}};function W(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)t.indexOf(n=l[o])>=0||(r[n]=e[n]);return r}function X(e,t){if(null==e)return{};var n,o,r=W(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t.indexOf(n=l[o])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _=e.memo((function(t){var n=H(e.useState(!1),2),o=n[0],r=n[1],l=function(e){t.disabled||(r(!0),t.onChange(e))},a=c("p-checkbox p-component",{"p-checkbox-focused":o}),i=c("p-checkbox-box p-component",{"p-highlight":t.checked,"p-disabled":t.disabled,"p-focus":o}),u=c("p-checkbox-icon",{"pi pi-check":t.checked});return e.createElement("div",{className:a,onClick:l},e.createElement("div",{className:i,role:"checkbox","aria-checked":t.checked,tabIndex:t.disabled?null:"0",onKeyDown:function(e){"Space"!==e.code&&" "!==e.key||(l(e),e.preventDefault())},onFocus:function(){r(!0)},onBlur:function(){r(!1)},"aria-label":t.ariaLabel},e.createElement("span",{className:u})))}));_.displayName="RowCheckbox";var J=e.memo((function(t){var n=H(e.useState(!1),2),o=n[0],r=n[1],l=e.useRef(null),a=function(e){t.disabled||(t.onChange(e),u.focus(l.current))},i=c("p-radiobutton p-component",{"p-radiobutton-focused":o}),s=c("p-radiobutton-box p-component",{"p-highlight":t.checked,"p-focus":o,"p-disabled":t.disabled}),d="".concat(t.tableSelector,"_dt_radio");return e.createElement("div",{className:i},e.createElement("div",{className:"p-hidden-accessible"},e.createElement("input",{name:d,ref:l,type:"radio",checked:t.checked,onFocus:function(){r(!0)},onBlur:function(){r(!1)},onChange:function(e){a(e)},onKeyDown:function(e){"Space"!==e.code&&" "!==e.key||(a(e),e.preventDefault())},"aria-label":t.ariaLabel})),e.createElement("div",{className:s,onClick:a,role:"radio","aria-checked":t.checked},e.createElement("div",{className:"p-radiobutton-icon"})))}));function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}J.displayName="RowRadioButton";var Z=e.memo((function(t){var n=H(e.useState(t.editing),2),r=n[0],l=n[1],a=H(e.useState(t.rowData),2),s=a[0],d=a[1],g=H(e.useState({}),2),w=g[0],b=g[1],v=e.useRef(null),h=e.useRef(null),E=e.useRef(null),S=e.useRef(!1),R=e.useRef(null),x=e.useRef(null),M=function(e){return V.getCProp(t.column,e)},O=M("field")||"field_".concat(t.index),D=t.dataKey&&t.rowData&&t.rowData[t.dataKey]||t.rowIndex,k=H(p({type:"click",listener:function(e){!S.current&&T(e.target)&&X(e,!0),S.current=!1},options:!0}),2),I=k[0],F=k[1];"row"===t.editMode&&t.editing!==r&&l(t.editing);var N=function(){return!!t.selection&&(t.selection instanceof Array?U(t.selection)>-1:z(t.selection))},z=function(e){return e&&(e.rowIndex===t.rowIndex||(n=e.rowData,"equals"===t.compareSelectionBy?n===t.rowData:i.equals(n,t.rowData,t.dataKey)))&&(e.field===O||e.cellIndex===t.index);var n},T=function(e){return v.current&&!(v.current.isSameNode(e)||v.current.contains(e))},j=function(e){return t.virtualScrollerOptions?t.virtualScrollerOptions[e]:null},A=function(){return{value:K(),field:O,rowData:t.rowData,rowIndex:t.rowIndex,cellIndex:t.index,selected:N(),column:t.column,props:t}},L=function(e){return Y({originalEvent:e},A())},K=function(e){return i.resolveFieldData(e||t.rowData,O)},B=function(){return t.editingMeta&&t.editingMeta[D]?t.editingMeta[D].data:t.rowData},G=function(e){return t.allowCellSelection?e?0:0===t.rowIndex&&0===t.index?t.tabIndex:-1:null},U=function(e){return(e||[]).findIndex((function(e){return z(e)}))},W=function(e){var t=L(e),n=M("onBeforeCellEditHide");n&&n(t),setTimeout((function(){l(!1),F(),y.off("overlay-click",E.current),E.current=null,S.current=!1}),1)},X=function(e,t){var n=L(e),o=s,r=K(o),l=Y(Y({},n),{},{newRowData:o,newValue:r}),a=M("onCellEditCancel"),i=M("cellEditValidator"),c=M("onCellEditComplete");!t&&a&&a(l);var u=!0;i&&(u=i(l)),u?(t&&c&&c(l),W(e)):e.preventDefault()},q=function e(t){var n=t.nextElementSibling;return n?u.hasClass(n,"p-selectable-cell")?n:e(n):null},Z=function e(t){var n=t.previousElementSibling;return n?u.hasClass(n,"p-selectable-cell")?n:e(n):null},$=function e(n){var o=n.parentElement.nextElementSibling,r=o?o.children[t.index]:null;return o&&r?u.hasClass(o,"p-selectable-row")&&u.hasClass(r,"p-selectable-cell")?r:e(r):null},Q=function e(n){var o=n.parentElement.previousElementSibling,r=o?o.children[t.index]:null;return o&&r?u.hasClass(o,"p-selectable-row")&&u.hasClass(r,"p-selectable-cell")?r:e(r):null},ee=function(e,n){e&&n&&(e.tabIndex=-1,n.tabIndex=t.tabIndex)},te=function(){clearTimeout(x.current),x.current=setTimeout((function(){var e="row"===t.editMode?u.findSingle(v.current,".p-row-editor-init"):null;e&&e.focus()}),1)},ne=function(){if(M("frozen")){var e=Y({},w);if("right"===M("alignFrozen")){var t=0,n=v.current&&v.current.nextElementSibling;n&&(t=u.getOuterWidth(n)+parseFloat(n.style.right||0)),e.right=t+"px"}else{var o=0,r=v.current&&v.current.previousElementSibling;r&&(o=u.getOuterWidth(r)+parseFloat(r.style.left||0)),e.left=o+"px"}!(w.left===e.left&&w.right===e.right)&&b(e)}},oe=function(e){var t=Y({},s);t[O]=e,d(t);var n=B();n&&(n[O]=e)},re=function(e){var n=L(e);if("row"!==t.editMode&&M("editor")&&!r&&(t.selectOnEdit||!t.selectOnEdit&&t.selected)){S.current=!0;var o=M("onBeforeCellEditShow"),a=M("onCellEditInit"),i=M("cellEditValidatorEvent");o&&o(n),setTimeout((function(){l(!0),a&&a(n),"click"===i&&(I(),E.current=function(e){T(e.target)||(S.current=!0)},y.on("overlay-click",E.current))}),1)}t.allowCellSelection&&t.onClick&&t.onClick(n)},le=function(e){var n=L(e);t.onMouseDown&&t.onMouseDown(n)},ae=function(e){var n=L(e);t.onMouseUp&&t.onMouseUp(n)},ie=function(e){if("row"!==t.editMode&&(13!==e.which&&9!==e.which||X(e,!0),27===e.which&&X(e,!1)),t.allowCellSelection){var n=e.target,o=e.currentTarget;switch(e.which){case 37:var r=Z(o);r&&(ee(o,r),r.focus()),e.preventDefault();break;case 39:var l=q(o);l&&(ee(o,l),l.focus()),e.preventDefault();break;case 38:var a=Q(o);a&&(ee(o,a),a.focus()),e.preventDefault();break;case 40:var i=$(o);i&&(ee(o,i),i.focus()),e.preventDefault();break;case 13:u.isClickable(n)||(re(e),e.preventDefault());break;case 32:u.isClickable(n)||n.readOnly||(re(e),e.preventDefault())}}},ce=function(e){S.current=!1,"row"!==t.editMode&&r&&"blur"===M("cellEditValidatorEvent")&&X(e,!0)},ue=function(e){re(e)},se=function(e){t.onRadioChange({originalEvent:e,data:t.rowData,index:t.rowIndex})},de=function(e){t.onCheckboxChange({originalEvent:e,data:t.rowData,index:t.rowIndex})},pe=function(e){t.onRowToggle({originalEvent:e,data:t.rowData}),e.preventDefault()},fe=function(e){t.onRowEditInit({originalEvent:e,data:t.rowData,newData:B(),field:O,index:t.rowIndex})},me=function(e){t.onRowEditSave({originalEvent:e,data:t.rowData,newData:B(),field:O,index:t.rowIndex}),te()},ge=function(e){t.onRowEditCancel({originalEvent:e,data:t.rowData,newData:B(),field:O,index:t.rowIndex}),te()};e.useEffect((function(){M("frozen")&&ne(),"cell"!==t.editMode&&"row"!==t.editMode||(clearTimeout(R.current),R.current=setTimeout((function(){if(r){var e="cell"===t.editMode?u.getFirstFocusableElement(v.current,":not(.p-cell-editor-key-helper)"):u.findSingle(v.current,".p-row-editor-save");e&&e.focus()}h.current&&(h.current.tabIndex=r?-1:0)}),1))})),f((function(){"cell"!==t.editMode&&"row"!==t.editMode||d(B())}),[t.editingMeta]),e.useEffect((function(){if("cell"===t.editMode||"row"===t.editMode){var e=Y(Y({},L()),{},{editing:r,editingKey:D});t.onEditingMetaChange(e)}}),[r]),m((function(){E.current&&(y.off("overlay-click",E.current),E.current=null)}));var we,be;return j("loading")?(we=j("getLoaderOptions")(t.rowIndex,{cellIndex:t.index,cellFirst:0===t.index,cellLast:t.index===j("columns").length-1,cellEven:t.index%2==0,cellOdd:t.index%2!=0,column:t.column,field:O}),be=i.getJSXElement(j("loadingTemplate"),we),e.createElement("td",null,be)):function(){var n,l,a,u,d=t.allowCellSelection&&N(),p="row"===t.editMode,f=G(d),m=M("selectionMode"),g=M("rowReorder"),b=M("rowEditor"),y=M("header"),E=M("body"),S=M("editor"),R=M("frozen"),x=M("align"),D=K(),k={column:t.column,field:O,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps},I=i.getPropValue(M("expander"),t.rowData,k),F=i.getPropValue(t.cellClassName,D,k),z=i.getPropValue(M("bodyClassName"),t.rowData,k),T=c(z,M("className"),F,P({"p-selection-column":null!==m,"p-editable-column":S,"p-cell-editing":S&&r,"p-frozen-column":R,"p-selectable-cell":t.allowCellSelection&&t.isSelectable({data:A(),index:t.rowIndex}),"p-highlight":d},"p-align-".concat(x),!!x)),j=(a=M("bodyStyle"),u=M("style"),M("frozen")?Object.assign({},u,a,w):Object.assign({},u,a)),L="stack"===t.responsiveLayout&&e.createElement("span",{className:"p-column-title"},i.getJSXElement(y,{props:t.tableProps}));if(m){var B,H=!t.showSelectionElement||t.showSelectionElement(t.rowData,{rowIndex:t.rowIndex,props:t.tableProps});if(H){var V=i.resolveFieldData(t.rowData,t.selectionAriaLabel||t.tableProps.dataKey);B="".concat(o(t.selected?"unselectLabel":"selectLabel")," ").concat(V)}n=H&&e.createElement(e.Fragment,null,"single"===m&&e.createElement(J,{checked:t.selected,onChange:se,tabIndex:t.tabIndex,tableSelector:t.tableSelector,ariaLabel:B}),"multiple"===m&&e.createElement(_,{checked:t.selected,onChange:de,tabIndex:t.tabIndex,ariaLabel:B}))}else if(g){n=(!t.showRowReorderElement||t.showRowReorderElement(t.rowData,{rowIndex:t.rowIndex,props:t.tableProps}))&&e.createElement("i",{className:c("p-datatable-reorderablerow-handle",M("rowReorderIcon"))})}else if(I){var U=c("p-row-toggler-icon",t.expanded?t.expandedRowIcon:t.collapsedRowIcon),W="".concat(t.tableSelector,"_content_").concat(t.rowIndex,"_expanded"),X=i.resolveFieldData(t.rowData,t.selectionAriaLabel||t.tableProps.dataKey),q="".concat(o(t.expanded?"collapseLabel":"expandLabel")," ").concat(X),Y={onClick:pe,className:"p-row-toggler p-link",iconClassName:U};n=e.createElement("button",{className:Y.className,onClick:Y.onClick,type:"button","aria-expanded":t.expanded,"aria-controls":W,tabIndex:t.tabIndex,"aria-label":q},e.createElement("span",{className:Y.iconClassName,"aria-hidden":"true"}),e.createElement(C,null)),E&&(Y.element=n,n=i.getJSXElement(E,t.rowData,{column:t.column,field:O,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps,expander:Y}))}else if(p&&b){var Z={};n=r?e.createElement(e.Fragment,null,e.createElement("button",{type:"button",name:"row-save",onClick:(Z={editing:!0,onSaveClick:me,saveClassName:"p-row-editor-save p-link",saveIconClassName:"p-row-editor-save-icon pi pi-fw pi-check",onCancelClick:ge,cancelClassName:"p-row-editor-cancel p-link",cancelIconClassName:"p-row-editor-cancel-icon pi pi-fw pi-times"}).onSaveClick,className:Z.saveClassName,tabIndex:t.tabIndex},e.createElement("span",{className:Z.saveIconClassName}),e.createElement(C,null)),e.createElement("button",{type:"button",name:"row-cancel",onClick:Z.onCancelClick,className:Z.cancelClassName,tabIndex:t.tabIndex},e.createElement("span",{className:Z.cancelIconClassName}),e.createElement(C,null))):e.createElement("button",{type:"button",name:"row-edit",onClick:(Z={editing:!1,onInitClick:fe,initClassName:"p-row-editor-init p-link",initIconClassName:"p-row-editor-init-icon pi pi-fw pi-pencil"}).onInitClick,className:Z.initClassName,tabIndex:t.tabIndex},e.createElement("span",{className:Z.initIconClassName}),e.createElement(C,null)),E&&(Z.element=n,n=i.getJSXElement(E,t.rowData,{column:t.column,field:O,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps,rowEditor:Z}))}else n=!E||r&&S?S&&r?i.getJSXElement(S,{rowData:s,value:K(s),column:t.column,field:O,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps,editorCallback:oe}):D:E?i.getJSXElement(E,t.rowData,{column:t.column,field:O,rowIndex:t.rowIndex,frozenRow:t.frozenRow,props:t.tableProps}):D;return n="boolean"==typeof n?n.toString():n,!p&&S&&(l=e.createElement("a",{tabIndex:"0",ref:h,className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:ue},e.createElement("span",null))),e.createElement("td",{ref:v,style:j,className:T,rowSpan:t.rowSpan,tabIndex:f,role:"cell",onClick:re,onKeyDown:ie,onBlur:ce,onMouseDown:le,onMouseUp:ae},l,L,n)}()}));function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Z.displayName="BodyCell";var ee=e.memo((function(t){var n=H(e.useState(!1),2),o=n[1],r=t.onRowEditChange?t.editing:n[0],l=function(e,t){return V.getCProp(e,t)},a=function(){return t.selectionMode&&"single"!==t.selectionModeInColumn&&"multiple"!==t.selectionModeInColumn},s=function(e){var n=l(e,"field");return!(!t.groupRowsBy||!n)&&(Array.isArray(t.groupRowsBy)?t.groupRowsBy.indexOf(n)>-1:t.groupRowsBy===n)},d=function(e,n){e&&n&&(e.tabIndex=-1,n.tabIndex=t.tabIndex)},p=function e(t){var n=t.nextElementSibling;return n?u.hasClass(n,"p-selectable-row")?n:e(n):null},f=function e(t){var n=t.previousElementSibling;return n?u.hasClass(n,"p-selectable-row")?n:e(n):null},m=function(e,n,o){if(l(n,"hidden"))return!1;if(t.rowGroupMode&&"rowspan"===t.rowGroupMode&&s(n)){var r=e[o-1];if(r)return i.resolveFieldData(e[o],l(n,"field"))!==i.resolveFieldData(r,l(n,"field"))}return!0},g=function(e,t,n){if(s(t)){for(var o=i.resolveFieldData(e[n],l(t,"field")),r=o,a=0;o===r;){a++;var c=e[++n];if(!c)break;r=i.resolveFieldData(c,l(t,"field"))}return 1===a?null:a}return null},w=function(e){t.onRowClick({originalEvent:e,data:t.rowData,index:t.rowIndex})},b=function(e,n){if(t.onRowEditChange){var r,l=t.dataKey,a=e.originalEvent,c=e.data,u=e.index,s=e.newData;if(l){var d=String(i.resolveFieldData(c,l));if(r=t.editingRows?Q({},t.editingRows):{},n)r[d]=!0;else delete r[d],delete r[String(i.resolveFieldData(s,l))]}else{var p=(f=c,(t.editingRows||[]).findIndex((function(e){return n=f,o=e,"equals"===t.compareSelectionBy?n===o:i.equals(n,o,t.dataKey);var n,o})));r=t.editingRows?L(t.editingRows):[],-1!==p?r=r.filter((function(e,t){return t!==p})):r.push(c)}t.onRowEditChange({originalEvent:a,data:r,index:u})}else o(n);var f},v=function(e){var n=e.originalEvent;t.onRowEditInit&&t.onRowEditInit({originalEvent:n,data:t.rowData,index:t.rowIndex}),b(e,!0),n.preventDefault()},h=function(e){var n=e.originalEvent,o=!t.rowEditValidator||t.rowEditValidator(e.newData,{props:t.tableProps});t.onRowEditSave&&t.onRowEditSave({originalEvent:n,data:t.rowData,index:t.rowIndex,valid:o}),o&&(t.onRowEditComplete&&t.onRowEditComplete(e),b(e,!1)),n.preventDefault()},y=function(e){var n=e.originalEvent;t.onRowEditCancel&&t.onRowEditCancel({originalEvent:n,data:t.rowData,index:t.rowIndex}),b(e,!1),n.preventDefault()},C=i.getPropValue(t.rowClassName,t.rowData,{props:t.tableProps}),E=c(C,{"p-highlight":!t.allowCellSelection&&t.selected||t.contextMenuSelected,"p-highlight-contextmenu":t.contextMenuSelected,"p-selectable-row":t.allowRowSelection&&t.isSelectable({data:t.rowData,index:t.rowIndex}),"p-row-odd":t.rowIndex%2!=0}),S={height:t.virtualScrollerOptions?t.virtualScrollerOptions.itemSize:void 0},R=t.columns.map((function(n,o){if(m(t.value,n,t.index)){var a="".concat(l(n,"columnKey")||l(n,"field"),"_").concat(o),i="rowspan"===t.rowGroupMode?g(t.value,n,t.index):null;return e.createElement(Z,{key:a,value:t.value,tableProps:t.tableProps,tableSelector:t.tableSelector,column:n,rowData:t.rowData,rowIndex:t.rowIndex,index:o,rowSpan:i,dataKey:t.dataKey,editing:r,editingMeta:t.editingMeta,editMode:t.editMode,onRowEditInit:v,onRowEditSave:h,onRowEditCancel:y,onEditingMetaChange:t.onEditingMetaChange,onRowToggle:t.onRowToggle,selection:t.selection,selectionAriaLabel:t.tableProps.selectionAriaLabel,allowCellSelection:t.allowCellSelection,compareSelectionBy:t.compareSelectionBy,selectOnEdit:t.selectOnEdit,selected:t.selected,onClick:t.onCellClick,onMouseDown:t.onCellMouseDown,onMouseUp:t.onCellMouseUp,tabIndex:t.tabIndex,cellClassName:t.cellClassName,responsiveLayout:t.responsiveLayout,frozenRow:t.frozenRow,isSelectable:t.isSelectable,showSelectionElement:t.showSelectionElement,showRowReorderElement:t.showRowReorderElement,onRadioChange:t.onRadioChange,onCheckboxChange:t.onCheckboxChange,expanded:t.expanded,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,virtualScrollerOptions:t.virtualScrollerOptions})}return null})),x=a()&&!t.allowCellSelection?0===t.rowIndex?t.tabIndex:-1:null;return e.createElement("tr",{role:"row",tabIndex:x,className:E,style:S,onMouseDown:function(e){t.onRowMouseDown({originalEvent:e,data:t.rowData,index:t.rowIndex})},onMouseUp:function(e){t.onRowMouseUp({originalEvent:e,data:t.rowData,index:t.rowIndex})},onMouseEnter:function(e){t.onRowMouseEnter({originalEvent:e,data:t.rowData,index:t.rowIndex})},onMouseLeave:function(e){t.onRowMouseLeave({originalEvent:e,data:t.rowData,index:t.rowIndex})},onClick:w,onDoubleClick:function(e){t.onRowDoubleClick({originalEvent:e,data:t.rowData,index:t.rowIndex})},onContextMenu:function(e){t.onRowRightClick({originalEvent:e,data:t.rowData,index:t.rowIndex})},onTouchEnd:function(e){t.onRowTouchEnd(e)},onKeyDown:function(e){if(a()&&!t.allowCellSelection){var n=e.target,o=e.currentTarget;switch(e.which){case 40:var r=p(o);r&&(d(o,r),r.focus()),e.preventDefault();break;case 38:var l=f(o);l&&(d(o,l),l.focus()),e.preventDefault();break;case 13:u.isClickable(n)||(w(e),e.preventDefault());break;case 32:u.isClickable(n)||n.readOnly||(w(e),e.preventDefault())}}},onDragStart:function(e){t.onRowDragStart({originalEvent:e,data:t.rowData,index:t.rowIndex})},onDragOver:function(e){t.onRowDragOver({originalEvent:e,data:t.rowData,index:t.rowIndex})},onDragLeave:function(e){t.onRowDragLeave({originalEvent:e,data:t.rowData,index:t.rowIndex})},onDragEnd:function(e){t.onRowDragEnd({originalEvent:e,data:t.rowData,index:t.rowIndex})},onDrop:function(e){t.onRowDrop({originalEvent:e,data:t.rowData,index:t.rowIndex})}},R)}));ee.displayName="BodyRow";var te=e.memo((function(t){var n=c("p-row-toggler-icon",t.expanded?t.expandedRowIcon:t.collapsedRowIcon),r=o(t.expanded?"collapseLabel":"expandLabel");return e.createElement("button",{type:"button",onClick:function(e){t.onClick({originalEvent:e,data:t.rowData})},className:"p-row-toggler p-link",tabIndex:t.tabIndex,"aria-label":r},e.createElement("span",{className:n,"aria-hidden":"true"}),e.createElement(C,null))}));te.displayName="RowTogglerButton";var ne=["originalEvent"];function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=e.memo(e.forwardRef((function(t,n){var o=H(e.useState({}),2),l=o[0],a=o[1],c=e.useRef(null),s=e.useCallback((function(e){c.current=e,t.virtualScrollerContentRef&&t.virtualScrollerContentRef(e)}),[t]),d=e.useRef(null),p=e.useRef(null),g=e.useRef(null),w=e.useRef(null),b=e.useRef(null),v=e.useRef(null),h=e.useRef(!1),y=e.useRef(!1),C=e.useRef(null),E=e.useRef(null),S=t.rowGroupMode&&"subheader"===t.rowGroupMode,R="radiobutton"===t.selectionMode,x="checkbox"===t.selectionMode,M="single"===t.selectionModeInColumn,O="multiple"===t.selectionModeInColumn,D=function(e,n){return J()?!(e.rowIndex!==n.rowIndex&&e.rowData!==n.rowData||e.field!==n.field&&e.cellIndex!==n.cellIndex):"equals"===t.compareSelectionBy?e===n:i.equals(e,n,t.dataKey)},k=function(){return"single"===t.selectionMode&&!O||!R&&M},I=function(){return"multiple"===t.selectionMode&&!M||O},F=function(e){return!(!e||!t.selection)&&(t.selection instanceof Array?$(t.selection,e)>-1:D(e,t.selection))},P=function(e){return!(!e||!t.contextMenuSelection)&&D(e,t.contextMenuSelection)},N=function(e){return!t.isDataSelectable||t.isDataSelectable(e)},z=function(e){return!(!e||!t.expandedRows)&&(S&&t.expandableRowGroups?T(e):t.dataKey?!!t.expandedRows&&void 0!==t.expandedRows[i.resolveFieldData(e,t.dataKey)]:-1!==$(t.expandedRows,e))},T=function(e){return t.dataKey===t.groupRowsBy?Object.keys(t.expandedRows).some((function(n){return i.equals(n,i.resolveFieldData(e,t.dataKey))})):t.expandedRows.some((function(n){return i.equals(n,e,t.groupRowsBy)}))},j=function(e){return!("row"!==t.editMode||!e||!t.editingRows)&&(t.dataKey?!!t.editingRows&&void 0!==t.editingRows[i.resolveFieldData(e,t.dataKey)]:-1!==$(t.editingRows,e))},A=function(e){return t.dragSelection&&I()&&!e.originalEvent.shiftKey},K=function(e){return!J()&&A(e)||t.reorderableRows},B=function(e){return J()&&A(e)},G=function(e){return!u.isClickable(e.originalEvent.target)},U=function(e){return!h.current&&(!t.metaKeySelection||t.metaKeySelection&&(e.originalEvent.metaKey||e.originalEvent.ctrlKey))},W=function(e){return I()&&e.originalEvent.shiftKey&&null!==g.current},_=function(){return(t.selectionMode||t.selectionModeInColumn)&&!(R&&M)&&!(x&&O)},J=function(){return t.cellSelection&&!M&&!O},q=function(){return t.columns?t.columns.length:0},Y=function(e,t){return V.getCProp(e,t)},Z=function(e,n){return(n=n||t.virtualScrollerOptions)?n[e]:null},$=function(e,t){return(e||[]).findIndex((function(e){return D(t,e)}))},Q=function(e,n){return t.dataKey?i.resolveFieldData(e,t.dataKey):n},oe=function(e,n,o){var r=i.resolveFieldData(n,t.groupRowsBy),l=e[o-1];return!l||r!==i.resolveFieldData(l,t.groupRowsBy)},le=function(e,n,o,r){if(t.expandableRowGroups&&!r)return!1;var l=i.resolveFieldData(n,t.groupRowsBy),a=e[o+1];return!a||l!==i.resolveFieldData(a,t.groupRowsBy)},ae=function(e){var n=e.originalEvent,o=e.data,r=e.toggleable,l=e.type;if(N({data:o,index:e.index})){var a=F(o),i=t.selection;a?r&&(i=null,fe({originalEvent:n,data:o,type:l})):(i=o,pe({originalEvent:n,data:o,type:l})),ge(n,!0),t.onSelectionChange&&i!==t.selection&&t.onSelectionChange({originalEvent:n,value:i,type:l})}},ie=function(e){var n=e.originalEvent,o=e.data,r=e.toggleable,l=e.type;if(N({data:o,index:e.index})){var a=F(o),i=t.selection||[];if(a)if(r){var c=$(i,o);i=t.selection.filter((function(e,t){return t!==c})),fe({originalEvent:n,data:o,type:l})}else i.length&&(t.selection.forEach((function(e){return fe({originalEvent:n,data:e,type:l})})),i=[o],pe({originalEvent:n,data:o,type:l}));else i=r&&I()?[].concat(L(i),[o]):[o],pe({originalEvent:n,data:o,type:l});ge(n,!0),t.onSelectionChange&&i!==t.selection&&t.onSelectionChange({originalEvent:n,value:i,type:l})}},ce=function(e,n){u.clearSelection(),b.current=J()?e.rowIndex:e.index;var o=ue(e);t.onSelectionChange&&o!==t.selection&&t.onSelectionChange({originalEvent:e.originalEvent,value:o,type:n}),g.current=b.current,w.current=e.cellIndex,ge(e.originalEvent,!1)},ue=function(e){var n,o;return b.current>g.current?(n=g.current,o=b.current):b.current<g.current?(n=b.current,o=g.current):n=o=b.current,t.paginator&&(n=Math.max(n-t.first,0),o-=t.first),J()?de(e,n,o):se(e,n,o)},se=function(e,n,o){for(var r=t.value,l=[],a=n;a<=o;a++){var i=r[a];N({data:i,index:a})&&(l.push(i),pe({originalEvent:e.originalEvent,data:i,type:"row"}))}return l},de=function(e,n,o){var r,l,a=e.cellIndex;a>w.current?(r=w.current,l=a):a<w.current?(r=a,l=w.current):r=l=a;for(var c=t.value,u=[],s=n;s<=o;s++)for(var d=c[s],p=t.columns,f=t.paginator?s+t.first:s,m=r;m<=l;m++){var g=Y(p[m],"field"),b={value:i.resolveFieldData(d,g),field:g,rowData:d,rowIndex:f,cellIndex:m,selected:!0};N({data:b,index:s})&&(u.push(b),pe({originalEvent:e.originalEvent,data:b,type:"cell"}))}return u},pe=function(e){J()?t.onCellSelect&&t.onCellSelect(re(re({originalEvent:e.originalEvent},e.data),{},{type:e.type})):t.onRowSelect&&t.onRowSelect(e)},fe=function(e){J()?t.onCellUnselect&&t.onCellUnselect(re(re({originalEvent:e.originalEvent},e.data),{},{type:e.type})):t.onRowUnselect&&t.onRowUnselect(e)},me=function(e){t.dragSelection&&!d.current&&(d.current=document.createElement("div"),u.addClass(d.current,"p-datatable-drag-selection-helper"),p.current={x:e.clientX,y:e.clientY},d.current.style.top="".concat(e.pageY,"px"),d.current.style.left="".concat(e.pageX,"px"),Le())},ge=function(e,n){var o=e.currentTarget;if(!J()&&t.selectionAutoFocus)if(O){var r=u.findSingle(o,"td.p-selection-column .p-checkbox-box");r&&r.focus()}else if(M){var l=u.findSingle(o,'td.p-selection-column input[type="radio"]');l&&l.focus()}!n&&o&&o.focus()},we=function(e,n){var o=e.currentTarget;if(u.hasClass(o,"cell"===n?"p-selectable-cell":"p-selectable-row")){var r=u.findSingle(c.current,"".concat("cell"===n?"tr > td":"tr",'[tabindex="').concat(t.tabIndex,'"]'));r&&o&&(r.tabIndex=-1,o.tabIndex=t.tabIndex)}},be=function(e){if(!J()&&G(e)){if(t.onRowClick&&t.onRowClick(e),_()){if(W(e))ce(e,"row");else{var n=M||O||U(e);g.current=e.index,b.current=e.index,v.current=t.first,k()?ae(re(re({},e),{},{toggleable:n,type:"row"})):ie(re(re({},e),{},{toggleable:n,type:"row"}))}we(e.originalEvent,"row")}else ge(e.originalEvent);h.current=!1}},ve=function(e){u.isClickable(e.originalEvent.target)||t.onRowDoubleClick&&t.onRowDoubleClick(e)},he=function(e){(t.onContextMenu||t.onContextMenuSelectionChange)&&(u.clearSelection(),t.onContextMenuSelectionChange&&t.onContextMenuSelectionChange({originalEvent:e.originalEvent,value:e.data}),t.onContextMenu&&t.onContextMenu({originalEvent:e.originalEvent,data:e.data}),e.originalEvent.preventDefault())},ye=function(e){t.onRowMouseEnter&&t.onRowMouseEnter(e)},Ce=function(e){t.onRowMouseLeave&&t.onRowMouseLeave(e)},Ee=function(){h.current=!0},Se=function(e){var n=e.originalEvent;n.currentTarget.draggable=!!u.hasClass(n.target,"p-datatable-reorderablerow-handle"),K(e)&&(me(n),g.current=e.index,b.current=e.index,v.current=t.first)},Re=function(e){var t=e.index===g.current;K(e)&&!t&&ce(e,"row")},xe=function(e){var n,o=t.dataKey;if(t.groupRowsBy?o===t.groupRowsBy:!!o){var r=String(i.resolveFieldData(e.data,o));null!=(n=t.expandedRows?re({},t.expandedRows):{})[r]?(delete n[r],t.onRowCollapse&&t.onRowCollapse({originalEvent:e,data:e.data})):(n[r]=!0,t.onRowExpand&&t.onRowExpand({originalEvent:e,data:e.data}))}else{var l=$(t.expandedRows,e.data);n=t.expandedRows?L(t.expandedRows):[],-1!==l?(n=n.filter((function(e,t){return t!==l})),t.onRowCollapse&&t.onRowCollapse({originalEvent:e,data:e.data})):(n.push(e.data),t.onRowExpand&&t.onRowExpand({originalEvent:e,data:e.data}))}t.onRowToggle&&t.onRowToggle({data:n})},Me=function(e){var t=e.originalEvent,n=e.index;K(t)&&(y.current=!0,C.current=n,t.dataTransfer.setData("text","b"))},Oe=function(e){var t=e.originalEvent,n=e.index;if(y.current&&C.current!==n){var o=t.currentTarget,r=u.getOffset(o).top+u.getWindowScrollTop(),l=t.pageY+window.scrollY,a=r+u.getOuterHeight(o)/2,i=o.previousElementSibling;l<a?(u.removeClass(o,"p-datatable-dragpoint-bottom"),E.current=n,i?u.addClass(i,"p-datatable-dragpoint-bottom"):u.addClass(o,"p-datatable-dragpoint-top")):(i?u.removeClass(i,"p-datatable-dragpoint-bottom"):u.addClass(o,"p-datatable-dragpoint-top"),E.current=n+1,u.addClass(o,"p-datatable-dragpoint-bottom"))}t.preventDefault()},De=function(e){var t=e.originalEvent.currentTarget,n=t.previousElementSibling;n&&u.removeClass(n,"p-datatable-dragpoint-bottom"),u.removeClass(t,"p-datatable-dragpoint-bottom"),u.removeClass(t,"p-datatable-dragpoint-top")},ke=function(e){var t=e.originalEvent;y.current=!1,C.current=null,E.current=null,t.currentTarget.draggable=!1},Ie=function(e){var n=e.originalEvent;if(null!=E.current){var o=C.current>E.current?E.current:0===E.current?0:E.current-1,r=L(t.tableProps.value);i.reorderArray(r,C.current,o),t.onRowReorder&&t.onRowReorder({originalEvent:n,value:r,dragIndex:C.current,dropIndex:o})}De(e),ke(e),n.preventDefault()},Fe=function(e){ae(re(re({},e),{},{toggleable:!0,type:"radio"}))},Pe=function(e){ie(re(re({},e),{},{toggleable:!0,type:"checkbox"}))},Ne=function(e){var t=p.current,n=e.clientX-t.x,o=e.clientY-t.y;o<0&&(d.current.style.top="".concat(e.pageY+5,"px")),n<0&&(d.current.style.left="".concat(e.pageX+5,"px")),d.current.style.height="".concat(Math.abs(o),"px"),d.current.style.width="".concat(Math.abs(n),"px"),e.preventDefault()},ze=function e(){d.current&&(d.current.remove(),d.current=null),document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",e)},Te=function(e){if(G(e)){if(t.onCellClick&&t.onCellClick(e),J()){if(W(e))ce(e,"cell");else{var n=U(e),o=e.originalEvent,r=X(e,ne);g.current=e.rowIndex,b.current=e.rowIndex,v.current=t.first,w.current=e.cellIndex,k()?ae({originalEvent:o,data:r,index:e.rowIndex,toggleable:n,type:"cell"}):ie({originalEvent:o,data:r,index:e.rowIndex,toggleable:n,type:"cell"})}we(e.originalEvent,"cell")}h.current=!1}},je=function(e){B(e)&&(me(e.originalEvent),g.current=e.rowIndex,b.current=e.rowIndex,v.current=t.first,w.current=e.cellIndex)},Ae=function(e){var t=e.rowIndex===g.current&&e.cellIndex===w.current;B(e)&&!t&&ce(e,"cell")},Le=function(){document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ze),document.body.appendChild(d.current)};e.useEffect((function(){var e;t.frozenRow&&(c.current.style.top=u.getOuterHeight(c.current.previousElementSibling)+"px"),t.scrollable&&"subheader"===t.rowGroupMode&&(e=u.getOuterHeight(c.current.previousElementSibling)+"px",l.top!==e&&a({top:e}))})),f((function(){t.paginator&&I()&&(g.current=null)}),[t.first]),m((function(){t.dragSelection&&ze()}));var Ke=function(n,o,r,a){if(S&&oe(t.value,n,o-t.first)){var c=t.scrollable?{top:l.top}:null,u=t.expandableRowGroups&&e.createElement(te,{onClick:xe,rowData:n,expanded:r,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon}),s={index:o,props:t.tableProps,customRendering:!1},d=i.getJSXElement(t.rowGroupHeaderTemplate,n,s);return s.customRendering||(d=e.createElement("td",{colSpan:a},u,e.createElement("span",{className:"p-rowgroup-header-name"},d))),e.createElement("tr",{className:"p-rowgroup-header",style:c,role:"row"},d)}return null},Be=function(n,o,r,l){if(!t.expandableRowGroups||l){var a=!!(t.selectionMode||null!==t.selectionModeInColumn||t.columns&&t.columns.some((function(e){return e&&!!Y(e,"selectionMode")})))&&F(n),i=P(n),c=_(),u=J(),s=j(n);return e.createElement(ee,{tableProps:t.tableProps,tableSelector:t.tableSelector,value:t.value,columns:t.columns,rowData:n,rowIndex:o,index:r,selected:a,contextMenuSelected:i,onRowClick:be,onRowDoubleClick:ve,onRowRightClick:he,onRowMouseEnter:ye,onRowMouseLeave:Ce,tabIndex:t.tabIndex,isSelectable:N,onRowTouchEnd:Ee,onRowMouseDown:Se,onRowMouseUp:Re,onRowToggle:xe,onRowDragStart:Me,onRowDragOver:Oe,onRowDragLeave:De,onRowDragEnd:ke,onRowDrop:Ie,onRadioChange:Fe,onCheckboxChange:Pe,onCellClick:Te,onCellMouseDown:je,onCellMouseUp:Ae,editing:s,editingRows:t.editingRows,editingMeta:t.editingMeta,editMode:t.editMode,onRowEditChange:t.onRowEditChange,onEditingMetaChange:t.onEditingMetaChange,groupRowsBy:t.groupRowsBy,compareSelectionBy:t.compareSelectionBy,dataKey:t.dataKey,rowGroupMode:t.rowGroupMode,onRowEditInit:t.onRowEditInit,rowEditValidator:t.rowEditValidator,onRowEditSave:t.onRowEditSave,onRowEditComplete:t.onRowEditComplete,onRowEditCancel:t.onRowEditCancel,selection:t.selection,allowRowSelection:c,allowCellSelection:u,selectOnEdit:t.selectOnEdit,selectionMode:t.selectionMode,selectionModeInColumn:t.selectionModeInColumn,cellClassName:t.cellClassName,responsiveLayout:t.responsiveLayout,frozenRow:t.frozenRow,showSelectionElement:t.showSelectionElement,showRowReorderElement:t.showRowReorderElement,expanded:l,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,rowClassName:t.rowClassName,virtualScrollerOptions:t.virtualScrollerOptions})}},Ge=function(n,o,r,l){if(r&&(!S||!t.expandableRowGroups)){var a="".concat(t.tableSelector,"_content_").concat(o,"_expanded"),c={index:o,customRendering:!1},u=i.getJSXElement(t.rowExpansionTemplate,n,c);return c.customRendering||(u=e.createElement("td",{role:"cell",colSpan:l},u)),e.createElement("tr",{id:a,className:"p-datatable-row-expansion",role:"row"},u)}return null},He=function(n,o,r,l){if(S&&le(t.value,n,o-t.first,r)){var a=i.getJSXElement(t.rowGroupFooterTemplate,n,{index:o,colSpan:l,props:t.tableProps});return e.createElement("tr",{className:"p-rowgroup-footer",role:"row"},a)}return null},Ve=t.empty?function(){if(!t.loading){var n=q(),o=i.getJSXElement(t.emptyMessage,{props:t.tableProps,frozen:t.frozenRow})||r("emptyMessage");return e.createElement("tr",{className:"p-datatable-emptymessage",role:"row"},e.createElement("td",{colSpan:n,role:"cell"},o))}return null}():t.value&&t.value.map((function(n,o){var r=Z("getItemOptions")?Z("getItemOptions")(o).index:t.first+o,l=Q(n,r),a=z(n),i=q(),c=Ke(n,r,a,i),u=Be(n,r,o,a),s=Ge(n,r,a,i),d=He(n,r,a,i);return e.createElement(e.Fragment,{key:l},c,u,s,d)}));return e.createElement("tbody",{ref:s,style:t.style,className:t.className},Ve)})));le.displayName="TableBody";var ae={defaultProps:{__TYPE:"ColumnGroup",children:void 0},getCProp:function(e,t){return i.getComponentProp(e,t,ae.defaultProps)},getCProps:function(e){return i.getComponentProps(e,ae.defaultProps)}},ie={defaultProps:{__TYPE:"Row",style:null,className:null,children:void 0},getProps:function(e){return i.getMergedProps(e,ie.defaultProps)},getOtherProps:function(e){return i.getDiffProps(e,ie.defaultProps)},getCProp:function(e,t){return i.getComponentProp(e,t,ie.defaultProps)}};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=e.memo((function(t){var n=H(e.useState({}),2),o=n[0],r=n[1],l=e.useRef(null),a=function(e){return V.getCProp(t.column,e)},s=function(){if(a("frozen")){var e=ue({},o);if("right"===a("alignFrozen")){var t=0,n=l.current.nextElementSibling;n&&(t=u.getOuterWidth(n)+parseFloat(n.style.right||0)),e.right=t+"px"}else{var i=0,c=l.current.previousElementSibling;c&&(i=u.getOuterWidth(c)+parseFloat(c.style.left||0)),e.left=i+"px"}!(o.left===e.left&&o.right===e.right)&&r(e)}};e.useEffect((function(){a("frozen")&&s()}));var d,p,f=(d=a("footerStyle"),p=a("style"),a("frozen")?Object.assign({},p,d,o):Object.assign({},p,d)),m=a("align"),g=a("colSpan"),w=a("rowSpan"),b=c(a("footerClassName"),a("className"),P({"p-frozen-column":a("frozen")},"p-align-".concat(m),!!m)),v=i.getJSXElement(a("footer"),{props:t.tableProps});return e.createElement("td",{ref:l,style:f,className:b,role:"cell",colSpan:g,rowSpan:w},v)}));se.displayName="FooterCell";var de=e.memo((function(t){var n=function(e,t){return V.getCProp(e,t)},o=function(t){var n=e.Children.toArray(ie.getCProp(t,"children"));return r(n)},r=function(o){return e.Children.map(o,(function(o,r){var l=!o||!n(o,"hidden"),a=o&&(n(o,"columnKey")||n(o,"field"))||r;return l&&e.createElement(se,{key:a,tableProps:t.tableProps,column:o})}))};if(t.footerColumnGroup||t.columns&&t.columns.some((function(e){return e&&n(e,"footer")}))){var l=t.footerColumnGroup?e.Children.toArray(ae.getCProp(t.footerColumnGroup,"children")).map((function(t,n){return e.createElement("tr",{key:n,role:"row"},o(t))})):e.createElement("tr",{role:"row"},r(t.columns));return e.createElement("tfoot",{className:"p-datatable-tfoot"},l)}return null}));function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}de.displayName="TableFooter";var me=e.memo((function(o){var a=H(e.useState(!1),2),d=a[0],p=a[1],w=e.useRef(null),b=e.useRef(null),v=e.useRef(!1),h=e.useRef(null),O=function(e){return V.getCProp(o.column,e)},D=O("filterField")||O("field"),k=o.filters[D],I=o.filtersStore&&o.filtersStore[D],F=H(g({target:b,overlay:w,listener:function(e,t){t.valid&&("outside"===t.type?!v.current&&!L(e.target)&&oe():oe()),v.current=!1},when:d}),2),P=F[0],N=F[1],z=function(e){return i.isEmpty(e)},T=function(e){return k&&k.matchMode===e},j=function(){return O("filterMatchModeOptions")||t.filterMatchModeOptions[B()].map((function(e){return{label:r(e),value:e}}))},A=function(){return"boolean"!==O("dataType")&&O("showFilterMatchModes")&&j()&&O("showFilterMenuOptions")},L=function(e){return b.current&&(b.current.isSameNode(e)||b.current.contains(e))},K=function(){if(I)return I.operator?{matchMode:I.constraints[0].matchMode,operator:I.operator}:{matchMode:I.matchMode}},B=function(){var e=O("dataType"),o=O("filterMatchMode"),r=function(e){return t.filterMatchModeOptions[e].some((function(e){return e===o}))};return"custom"!==o||r(e)?o&&Object.keys(t.filterMatchModeOptions).find((function(e){return r(e)}))||e:(t.filterMatchModeOptions[e].push(n.CUSTOM),e)},G=function(){var e=O("onFilterClear"),t=K(),n=fe({},o.filters);n[D].operator?(n[D].constraints.splice(1),n[D].operator=t.operator,n[D].constraints[0]={value:null,matchMode:t.matchMode}):(n[D].value=null,n[D].matchMode=t.matchMode),e&&e(),o.onFilterChange(n),o.onFilterApply(),oe()},U=function(){var e=O("onFilterApplyClick");e&&e({field:D,constraints:k}),o.onFilterApply(),oe()},W=function(){p((function(e){return!e}))},X=function(e){switch(e.key){case"Escape":case"Tab":oe();break;case"ArrowDown":if(d){var t=u.getFirstFocusableElement(w.current);t&&t.focus(),e.preventDefault()}else e.altKey&&(p(!0),e.preventDefault())}},_=function(e){"Escape"===e.key&&(oe(),b.current&&b.current.focus())},J=function(e,t){var n=fe({},o.filters),r=e.target.value;"menu"===o.display?n[D].constraints[t].value=r:n[D].value=r,o.onFilterChange(n),O("showApplyButton")&&"row"!==o.display||o.onFilterApply()},q=function(e){var t=O("onFilterMatchModeChange"),n=fe({},o.filters);n[D].matchMode=e,t&&t({field:D,matchMode:e}),o.onFilterChange(n),o.onFilterApply(),oe()},Y=function(e,t,n){var o=e.target;switch(e.key){case"ArrowDown":var r=te(o);r&&(o.removeAttribute("tabindex"),r.tabIndex=0,r.focus()),e.preventDefault();break;case"ArrowUp":var l=ne(o);l&&(o.removeAttribute("tabindex"),l.tabIndex=0,l.focus()),e.preventDefault();break;case"Enter":n?G():q(t.value),e.preventDefault()}},Z=function(e){var t=O("onFilterOperatorChange"),n=e.value,r=fe({},o.filters);r[D].operator=n,o.onFilterChange(r),t&&t({field:D,operator:n}),O("showApplyButton")||o.onFilterApply()},$=function(e,t){var n=O("onFilterMatchModeChange"),r=fe({},o.filters);r[D].constraints[t].matchMode=e,o.onFilterChange(r),n&&n({field:D,matchMode:e,index:t}),O("showApplyButton")||o.onFilterApply()},Q=function(){var e=O("onFilterConstraintAdd"),t=K(),n=fe({},o.filters),r={value:null,matchMode:t.matchMode};n[D].constraints.push(r),e&&e({field:D,constraint:r}),o.onFilterChange(n),O("showApplyButton")||o.onFilterApply()},ee=function(e){var t=O("onFilterConstraintRemove"),n=fe({},o.filters),r=n[D].constraints.splice(e,1);t&&t({field:D,constraint:r}),o.onFilterChange(n),O("showApplyButton")||o.onFilterApply()},te=function e(t){var n=t.nextElementSibling;return n?u.hasClass(n,"p-column-filter-separator")?e(n):n:t.parentElement.firstElementChild},ne=function e(t){var n=t.previousElementSibling;return n?u.hasClass(n,"p-column-filter-separator")?e(n):n:t.parentElement.lastElementChild},oe=function(){p(!1)},re=function(e){v.current=!0,y.emit("overlay-click",{originalEvent:e,target:w.current})},le=function(){v.current=!0},ae=function(){s.set("overlay",w.current,t.autoZIndex,t.zIndex.overlay),u.alignOverlay(w.current,b.current,t.appendTo,!1),h.current=function(e){var t;(L(t=e.target)||!w.current||w.current.isSameNode(t)||w.current.contains(t))&&(v.current=!0)},y.on("overlay-click",h.current)},ie=function(){P()},ce=function(){se()},ue=function(){s.clear(w.current)},se=function(){N(),y.off("overlay-click",h.current),h.current=null,v.current=!1},de=function(){return k?k.constraints||[k]:[]},pe=function(){return r("clear")},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=fe({},o.filters),r=n[D];"menu"===o.display&&r&&r.operator?n[D].constraints[t].value=e:n[D].value=e,o.onFilterChange(n)},ge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t&&me(t[0],t[1]),o.onFilterApply()};f((function(){"menu"===o.display&&d&&u.alignOverlay(w.current,b.current,t.appendTo,!1)})),m((function(){h.current&&(y.off("overlay-click",h.current),h.current=null),w.current&&(s.clear(w.current),se())}));var we=function(t,n){var r=t?t.value:null;return O("filterElement")?i.getJSXElement(O("filterElement"),{field:D,index:n,filterModel:t,value:r,filterApplyCallback:ge,filterCallback:me}):e.createElement(x,{type:O("filterType"),value:r||"",onChange:function(e){return J(e,n)},onKeyDown:function(e){"Enter"===e.key&&(O("showApplyButton")&&"menu"!==o.display||U())},className:"p-column-filter",placeholder:O("filterPlaceholder"),maxLength:O("filterMaxLength")})},be=function(e,t){return"menu"===o.display?we(e,t):null},ve=function(){if(A()){var t=j(),n=r("noFilter");return e.createElement("ul",{className:"p-column-filter-row-items"},t.map((function(t,n){var o=t.value,r=t.label,l=c("p-column-filter-row-item",{"p-highlight":T(o)});return e.createElement("li",{className:l,key:r,onClick:function(){return q(o)},onKeyDown:function(e){return Y(e,t)},tabIndex:0===n?0:null},r)})),e.createElement("li",{className:"p-column-filter-separator"}),e.createElement("li",{className:"p-column-filter-row-item",onClick:G,onKeyDown:function(e){return Y(e,null,!0)}},n))}return null},he=function(){if(O("showFilterOperator")&&k&&k.operator&&O("showFilterMenuOptions")){var t=[{label:r("matchAll"),value:l.AND},{label:r("matchAny"),value:l.OR}];return e.createElement("div",{className:"p-column-filter-operator"},e.createElement(R,{options:t,value:k.operator,onChange:Z,className:"p-column-filter-operator-dropdown"}))}return null},ye=function(t,n){if(A()){var o=j();return e.createElement(R,{options:o,value:t.matchMode,onChange:function(e){return $(e.value,n)},className:"p-column-filter-matchmode-dropdown"})}return null},Ce=function(t){if(de().length>1){var n=r("removeRule");return e.createElement(E,{type:"button",icon:"pi pi-trash",className:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:function(){return ee(t)},label:n})}return null},Ee=function(){if(O("showAddButton")&&k&&k.operator&&de()&&de().length<O("maxConstraints")&&O("showFilterMenuOptions")){var t=r("addRule");return e.createElement("div",{className:"p-column-filter-add-rule"},e.createElement(E,{type:"button",label:t,icon:"pi pi-plus",className:"p-column-filter-add-button p-button-text p-button-sm",onClick:Q}))}return null},Se=function(){if(O("showClearButton")){if(!O("filterClear")){var t=pe();return e.createElement(E,{type:"button",className:"p-button-outlined p-button-sm",onClick:G,label:t})}return i.getJSXElement(O("filterClear"),{field:D,filterModel:k,filterClearCallback:G})}return null},Re=function(){if(O("showApplyButton")){if(!O("filterApply")){var t=r("apply");return e.createElement(E,{type:"button",className:"p-button-sm",onClick:U,label:t})}return i.getJSXElement(O("filterApply"),{field:D,filterModel:k,filterApplyCallback:U})}return null},xe=function(){var t=Se(),n=Re();return e.createElement("div",{className:"p-column-filter-buttonbar"},t,n)},Me=function(){var t,n=he(),o=(t=de(),e.createElement("div",{className:"p-column-filter-constraints"},t.map((function(t,n){var o=ye(t,n),r=be(t,n),l=Ce(n);return e.createElement("div",{key:n,className:"p-column-filter-constraint"},o,r,e.createElement("div",null,l))})))),r=Ee(),l=xe();return e.createElement(e.Fragment,null,n,o,r,l)},Oe=c("p-column-filter p-fluid",{"p-column-filter-row":"row"===o.display,"p-column-filter-menu":"menu"===o.display}),De=function(){if("row"===o.display){var t=we(k,0);return e.createElement("div",{className:"p-fluid p-column-filter-element"},t)}return null}(),ke=function(){if(O("showFilterMenu")&&("row"!==o.display||"boolean"!==O("dataType"))){var t=c("p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":d,"p-column-filter-menu-button-active":!(!I||!k||z(I.operator?k.constraints[0].value:k.value))}),n=r("filter");return e.createElement("button",{ref:b,type:"button",className:t,"aria-haspopup":!0,"aria-expanded":d,onClick:W,onKeyDown:X,"aria-label":n},e.createElement("span",{className:"pi pi-filter-icon pi-filter","aria-hidden":"true"}),e.createElement(C,null))}return null}(),Ie=function(){if(O("showClearButton")&&"row"===o.display){var t=c("p-column-filter-clear-button p-link",{"p-hidden-space":!(k&&!z(k.value))}),n=pe();return e.createElement("button",{className:t,type:"button",onClick:G,"aria-label":n},e.createElement("span",{className:"pi pi-filter-slash","aria-hidden":"true"}),e.createElement(C,null))}return null}(),Fe=function(){var n=O("filterMenuStyle"),r=c("p-column-filter-overlay p-component p-fluid",O("filterMenuClassName"),{"p-column-filter-overlay-menu":"menu"===o.display,"p-input-filled":"filled"===t.inputStyle,"p-ripple-disabled":!1===t.ripple}),l=i.getJSXElement(O("filterHeader"),{field:D,filterModel:k,filterApplyCallback:ge}),a=i.getJSXElement(O("filterFooter"),{field:D,filterModel:k,filterApplyCallback:ge}),u="row"===o.display?ve():Me();return e.createElement(M,null,e.createElement(S,{nodeRef:w,classNames:"p-connected-overlay",in:d,timeout:{enter:120,exit:100},unmountOnExit:!0,onEnter:ae,onEntered:ie,onExit:ce,onExited:ue},e.createElement("div",{ref:w,style:n,className:r,onKeyDown:_,onClick:re,onMouseDown:le},l,u,a)))}();return e.createElement("div",{className:Oe},De,ke,Ie,Fe)}));me.displayName="ColumnFilter";var ge=e.memo((function(t){var n=H(e.useState(!1),2),o=n[1],r=function(e){t.disabled||(o(!0),t.onChange({originalEvent:e,checked:!t.checked}))},l=c("p-checkbox-box p-component",{"p-highlight":t.checked,"p-disabled":t.disabled,"p-focus":n[0]}),a=c("p-checkbox-icon",{"pi pi-check":t.checked});return e.createElement("div",{className:"p-checkbox p-component",onClick:r},e.createElement("div",{className:l,role:"checkbox","aria-checked":t.checked,tabIndex:t.disabled?null:0,onFocus:function(){o(!0)},onBlur:function(){o(!1)},onKeyDown:function(e){"Space"!==e.code&&" "!==e.key||(r(e),e.preventDefault())}},e.createElement("span",{className:a})))}));function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ge.displayName="HeaderCheckbox";var ve=e.memo((function(t){var n=H(e.useState({}),2),o=n[0],r=n[1],l=e.useRef(null),a=w(t.column),s=function(){return!d("sortable")||d("sortable")&&(t.allSortableDisabled||d("sortableDisabled"))},d=function(){return t.column?"string"==typeof(arguments.length<=0?void 0:arguments[0])?V.getCProp(t.column,arguments.length<=0?void 0:arguments[0]):V.getCProp((arguments.length<=0?void 0:arguments[0])||t.column,arguments.length<=1?void 0:arguments[1]):null},p=function(e){var t=e.sorted,n=e.sortOrder;if(d("sortable")){var o=t?n<0?"pi-sort-amount-down":"pi-sort-amount-up-alt":"pi-sort-alt";return"pi-sort-amount-down"===o?"descending":"pi-sort-amount-up-alt"===o?"ascending":"none"}return null},f=function(){if(d("frozen")){var e=be({},o);if("right"===d("alignFrozen")){var t=0,n=l.current.nextElementSibling;n&&(t=u.getOuterWidth(n)+parseFloat(n.style.right||0)),e.right=t+"px"}else{var a=0,i=l.current.previousElementSibling;i&&(a=u.getOuterWidth(i)+parseFloat(i.style.left||0)),e.left=a+"px"}var c=l.current.parentElement.nextElementSibling;if(c){var s=u.index(l.current);c.children[s].style.left=e.left,c.children[s].style.right=e.right}!(o.left===e.left&&o.right===e.right)&&r(e)}},m=function(e){d(e,"sortableDisabled")===d("sortableDisabled")&&d(e,"sortable")===d("sortable")||t.onSortableChange()},g=function(e){if(!s()){var n=e.target;(u.hasClass(n,"p-sortable-column")||u.hasClass(n,"p-column-title")||u.hasClass(n,"p-column-header-content")||u.hasClass(n,"p-sortable-column-icon")||u.hasClass(n.parentElement,"p-sortable-column-icon"))&&(u.clearSelection(),t.onSortChange({originalEvent:e,column:t.column,sortableDisabledFields:t.sortableDisabledFields}))}},b=function(e){t.onColumnMouseDown({originalEvent:e,column:t.column})},v=function(e){"Enter"===e.key&&e.currentTarget===l.current&&u.hasClass(e.currentTarget,"p-sortable-column")&&(g(e),e.preventDefault())},h=function(e){t.onColumnDragStart({originalEvent:e,column:t.column})},y=function(e){t.onColumnDragOver({originalEvent:e,column:t.column})},C=function(e){t.onColumnDragLeave({originalEvent:e,column:t.column})},E=function(e){t.onColumnDrop({originalEvent:e,column:t.column})},S=function(e){t.onColumnResizeStart({originalEvent:e,column:t.column})},R=function(e){t.onColumnResizerClick&&(t.onColumnResizerClick({originalEvent:e,element:e.currentTarget.parentElement,column:t.column}),e.preventDefault())},x=function(e){t.onColumnResizerDoubleClick&&(t.onColumnResizerDoubleClick({originalEvent:e,element:e.currentTarget.parentElement,column:t.column}),e.preventDefault())};e.useEffect((function(){d("frozen")&&f(),m(a)}));var M,k,I,F,N,z,T,j,A,L,K,B,G,U,W,X,_,J,q,Y,Z=function(){var n=i.getJSXElement(d("header"),{props:t.tableProps});return e.createElement("span",{className:"p-column-title"},n)},$=function(t){var n=t.sorted,o=t.sortOrder;if(d("sortable")){var r=c("p-sortable-column-icon pi pi-fw",n?o<0?"pi-sort-amount-down":"pi-sort-amount-up-alt":"pi-sort-alt");return e.createElement("span",{className:r})}return null},Q=function(){if(t.showSelectAll&&"multiple"===d("selectionMode")&&"row"!==t.filterDisplay){var n=t.allRowsSelected(t.value);return e.createElement(ge,{checked:n,onChange:t.onColumnCheckboxChange,disabled:t.empty})}return null},ee=function(n){var o,r=Z(),l=$(n),a=-1!==(o=n.metaIndex)&&t.multiSortMeta&&t.multiSortMeta.length>1?e.createElement("span",{className:"p-sortable-column-badge"},t.groupRowsBy&&t.groupRowsBy===t.groupRowSortField?o:o+1):null,i=Q(),c="menu"===t.filterDisplay&&d("filter")?e.createElement(me,{display:"menu",column:t.column,filters:t.filters,onFilterChange:t.onFilterChange,onFilterApply:t.onFilterApply,filtersStore:t.filtersStore}):null;return e.createElement("div",{className:"p-column-header-content"},r,l,a,i,c)};return z=s(),M=!1,k=0,I=-1,"single"===t.sortMode?k=(M=t.sortField&&(t.sortField===d("field")||t.sortField===d("sortField")))?t.sortOrder:0:"multiple"===t.sortMode&&(I=t.multiSortMeta.findIndex((function(e){return e.field===d("field")||e.field===d("sortField")})))>-1&&(M=!0,k=t.multiSortMeta[I].order),T={sorted:M,sortOrder:k,metaIndex:I},F=d("headerStyle"),N=d("style"),j=d("frozen")?Object.assign({},N,F,o):Object.assign({},N,F),A=d("alignHeader")||d("align"),L=d("frozen"),K=c(d("headerClassName"),d("className"),P({"p-sortable-column":d("sortable"),"p-resizable-column":t.resizableColumns&&d("resizeable"),"p-highlight":T.sorted,"p-frozen-column":L,"p-selection-column":d("selectionMode"),"p-sortable-disabled":d("sortable")&&z,"p-reorderable-column":t.reorderableColumns&&d("reorderable")&&!L},"p-align-".concat(A),!!A)),B=d("sortable")&&!z?t.tabIndex:null,G=d("colSpan"),U=d("rowSpan"),W=p(T),X=d("headerTooltip"),_=i.isNotEmpty(X),J=d("headerTooltipOptions"),q=t.resizableColumns&&!d("frozen")?e.createElement("span",{className:"p-column-resizer",onMouseDown:S,onClick:R,onDoubleClick:x}):null,Y=ee(T),e.createElement(e.Fragment,null,e.createElement("th",{ref:l,style:j,className:K,tabIndex:B,role:"columnheader",onClick:g,onKeyDown:v,onMouseDown:b,onDragStart:h,onDragOver:y,onDragLeave:C,onDrop:E,colSpan:G,rowSpan:U,"aria-sort":W},q,Y),_&&e.createElement(O,D({target:l,content:X},J)))}));function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ve.displayName="HeaderCell";var Ce=e.memo((function(t){var n=H(e.useState([]),2),o=n[0],r=n[1],l=H(e.useState(!1),2),a=l[1],i="single"===t.sortMode,u="multiple"===t.sortMode,s=i&&l[0],d=function(e,t){return V.getCProp(e,t)},p=function(e){return null!==t.sortField&&(d(e,"field")===t.sortField||d(e,"sortField")===t.sortField)},f=function(){if(i||u&&t.onSortChange){var e=[],n=!1;t.columns.forEach((function(t){d(t,"sortableDisabled")&&(e.push(d(t,"sortField")||d(t,"field")),!n&&p(t)&&(n=!0))})),r(e),a(n)}},m=function(){f()},g=function(e){t.onColumnCheckboxChange(e,t.value)};b((function(){f()}));var w=function(t){var n=e.Children.toArray(ie.getCProp(t,"children"));return v(n)},v=function(n){return e.Children.map(n,(function(n,r){var l=!n||!d(n,"hidden"),a=n&&(d(n,"columnKey")||d(n,"field"))||r;return l&&e.createElement(ve,{key:a,value:t.value,tableProps:t.tableProps,column:n,tabIndex:t.tabIndex,empty:t.empty,resizableColumns:t.resizableColumns,groupRowsBy:t.groupRowsBy,groupRowSortField:t.groupRowSortField,sortMode:t.sortMode,sortField:t.sortField,sortOrder:t.sortOrder,multiSortMeta:t.multiSortMeta,allSortableDisabled:s,onSortableChange:m,sortableDisabledFields:o,filterDisplay:t.filterDisplay,filters:t.filters,filtersStore:t.filtersStore,onFilterChange:t.onFilterChange,onFilterApply:t.onFilterApply,onColumnMouseDown:t.onColumnMouseDown,onColumnDragStart:t.onColumnDragStart,onColumnDragOver:t.onColumnDragOver,onColumnDragLeave:t.onColumnDragLeave,onColumnDrop:t.onColumnDrop,onColumnResizeStart:t.onColumnResizeStart,onColumnResizerClick:t.onColumnResizerClick,onColumnResizerDoubleClick:t.onColumnResizerDoubleClick,showSelectAll:t.showSelectAll,allRowsSelected:t.allRowsSelected,onColumnCheckboxChange:g,reorderableColumns:t.reorderableColumns,onSortChange:t.onSortChange})}))},h=function(n){if(t.showSelectAll&&"multiple"===n){var o=t.allRowsSelected(t.value);return e.createElement(ge,{checked:o,onChange:g,disabled:t.empty})}return null},y=function(n,o){return o?e.createElement(me,{display:"row",column:n,filters:t.filters,filtersStore:t.filtersStore,onFilterChange:t.onFilterChange,onFilterApply:t.onFilterApply}):null},C=function(){if(t.headerColumnGroup)return e.Children.toArray(ae.getCProp(t.headerColumnGroup,"children")).map((function(t,n){return e.createElement("tr",{key:n,role:"row"},w(t))}));var n=e.createElement("tr",{role:"row"},v(t.columns)),o="row"===t.filterDisplay&&e.createElement("tr",{role:"row"},e.Children.map(t.columns,(function(t,n){if(!d(t,"hidden")){var o=V.getCProps(t),r=o.style,l=o.filterHeaderClassName,a=o.className,i=o.frozen,u=o.columnKey,s=o.field,p=o.selectionMode,f=o.filter,m=ye(ye({},o.filterHeaderStyle||{}),r||{}),g=c("p-filter-column",l,a,{"p-frozen-column":i}),w=u||s||n,b=h(p),v=y(t,f);return e.createElement("th",{key:w,style:m,className:g},b,v)}return null})));return e.createElement(e.Fragment,null,n,o)}();return e.createElement("thead",{className:"p-datatable-thead"},C)}));function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ce.displayName="TableHeader";var Re=e.forwardRef((function(o,r){var s=U.getProps(o),g=H(e.useState(s.first),2),w=g[0],y=g[1],C=H(e.useState(s.rows),2),E=C[0],S=C[1],R=H(e.useState(s.sortField),2),x=R[0],M=R[1],O=H(e.useState(s.sortOrder),2),k=O[0],I=O[1],F=H(e.useState(s.multiSortMeta),2),P=F[0],N=F[1],z=H(e.useState(s.filters),2),T=z[0],j=z[1],A=H(e.useState([]),2),K=A[0],B=A[1],G=H(e.useState(null),2),W=G[0],X=G[1],_=H(e.useState({}),2),J=_[0],q=_[1],Y=H(e.useState(null),2),Z=Y[0],$=Y[1],Q=H(e.useState(s.rows),2),ee=Q[0],te=Q[1],ne=H(e.useState({}),2),oe=ne[0],re=ne[1],ae=e.useRef(null),ie=e.useRef(null),ce=e.useRef(null),ue=e.useRef(null),se=e.useRef(null),pe=e.useRef(null),fe=e.useRef(null),me=e.useRef(null),ge=e.useRef(null),we=e.useRef(null),be=e.useRef(null),ve=e.useRef(null),he=e.useRef(null),ye=e.useRef(null),Ee=e.useRef(null),Re=e.useRef(null),xe=e.useRef(null),Me=e.useRef(null),Oe=e.useRef(null),De=e.useRef(null),ke=e.useRef(!1),Ie=e.useRef(null),Fe=e.useRef(!1),Pe=e.useRef(null),Ne=e.useRef(null),ze=e.useRef(null);s.rows===ee||s.onPage||(S(s.rows),te(s.rows));var Te=H(p({type:"mousemove",listener:function(e){ke.current&&gt(e)}}),2),je=Te[0],Ae=Te[1],Le=H(p({type:"mouseup",listener:function(){ke.current&&(ke.current=!1,wt())}}),2),Ke=Le[0],Be=Le[1],Ge=function(){return"custom"===s.stateStorage},He=function(){return null!=s.stateKey||Ge()},Ve=function(){return i.isEmpty(s.virtualScrollerOptions)||!s.scrollable},Ue=function(e,t){return"equals"===s.compareSelectionBy?e===t:i.equals(e,t,s.dataKey)},We=function(){return s.onPage?s.first:w},Xe=function(){return s.onPage?s.rows:E},_e=function(){return s.onSort?s.sortField:x},Je=function(){return s.onSort?s.sortOrder:k},qe=function(){return(s.onSort?s.multiSortMeta:P)||[]},Ye=function(){return s.onFilter?s.filters:T},Ze=function(e,t){return V.getCProp(e,t)},$e=function(t){var n=e.Children.toArray(s.children);if(!n)return null;if(!t&&s.reorderableColumns&&K){var o=K.reduce((function(e,t){var o=st(n,t);return o&&e.push(o),e}),[]);return[].concat(L(o),L(n.filter((function(e){return o.indexOf(e)<0}))))}return n},Qe=function(){switch(s.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(s.stateStorage+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}},et=function(){var e={};s.paginator&&(e.first=We(),e.rows=Xe());var t=_e();t&&(e.sortField=t,e.sortOrder=Je());var n=qe();if(n&&(e.multiSortMeta=n),(i.isNotEmpty(Ye())||s.globalFilter)&&(e.filters=Ye()),s.resizableColumns&&lt(e),s.reorderableColumns&&(e.columnOrder=K),s.expandedRows&&(e.expandedRows=s.expandedRows),s.selection&&s.onSelectionChange&&(e.selection=s.selection),Ge())s.customSaveState&&s.customSaveState(e);else{var o=Qe();i.isNotEmpty(e)&&o.setItem(s.stateKey,JSON.stringify(e))}s.onStateSave&&s.onStateSave(e)},tt=function(){var e=Qe();e&&s.stateKey&&e.removeItem(s.stateKey)},nt=function(){var e={};if(Ge())s.customRestoreState&&(e=s.customRestoreState());else{var t=Qe().getItem(s.stateKey),n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;t&&(e=JSON.parse(t,(function(e,t){return"string"==typeof t&&n.test(t)?new Date(t):t})))}rt(e)},ot=function(e){rt(e)},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.isNotEmpty(e)){if(s.paginator)if(s.onPage){var t=function(e,t){var n=dt(Zt()),o=Math.ceil(n/t)||1;return{first:e,rows:t,page:Math.floor(e/t),pageCount:o}};s.onPage(Yt(t(e.first,e.rows)))}else y(e.first),S(e.rows);e.sortField&&(s.onSort?s.onSort(Yt({sortField:e.sortField,sortOrder:e.sortOrder})):(M(e.sortField),I(e.sortOrder))),e.multiSortMeta&&(s.onSort?s.onSort(Yt({multiSortMeta:e.multiSortMeta})):N(e.multiSortMeta)),e.filters&&(re(Vt(e.filters)),s.onFilter?s.onFilter(Yt({filters:e.filters})):j(Vt(e.filters))),s.resizableColumns&&(xe.current=e.columnWidths,Me.current=e.tableWidth,at()),s.reorderableColumns&&B(e.columnOrder),e.expandedRows&&s.onRowToggle&&s.onRowToggle({data:e.expandedRows}),e.selection&&s.onSelectionChange&&s.onSelectionChange({value:e.selection}),s.onStateRestore&&s.onStateRestore(e)}},lt=function(e){var t=[];u.find(ae.current,".p-datatable-thead > tr > th").forEach((function(e){return t.push(u.getOuterWidth(e))})),e.columnWidths=t.join(","),"expand"===s.columnResizeMode&&(e.tableWidth=u.getOuterWidth(ie.current)+"px")},at=function(){if(xe.current){var e=xe.current.split(",");if("expand"===s.columnResizeMode&&Me.current&&(ie.current.style.width=Me.current,ie.current.style.minWidth=Me.current,ae.current.style.width=Me.current),i.isNotEmpty(e)){Mt();var t="",n=".p-datatable[".concat(Z,"] > .p-datatable-wrapper > .p-datatable-table");e.forEach((function(e,o){var r="width: ".concat(e,"px !important; max-width: ").concat(e,"px !important");t+="\n                        ".concat(n," > .p-datatable-thead > tr > th:nth-child(").concat(o+1,"),\n                        ").concat(n," > .p-datatable-tbody > tr > td:nth-child(").concat(o+1,"),\n                        ").concat(n," > .p-datatable-tfoot > tr > td:nth-child(").concat(o+1,") {\n                            ").concat(r,"\n                        }\n                    ")})),Ee.current.innerHTML=t}}},it=function(e){if("TH"===e.nodeName)return e;for(var t=e.parentElement;"TH"!==t.nodeName&&(t=t.parentElement););return t},ct=function(e){return s.showSelectionElement||s.isDataSelectable?e.filter((function(e,t){var n=!0;return s.showSelectionElement&&(n=s.showSelectionElement({rowIndex:t,props:s})),s.isDataSelectable&&n&&(n=s.isDataSelectable({data:e,index:t})),n})):e},ut=function(e){if(s.onSelectAllChange)return s.selectAll;var t=s.selectionPageOnly?$t(e):e,n=i.isNotEmpty(s.frozenValue)?[].concat(L(s.frozenValue),L(t)):t,o=ct(n);return o&&s.selection&&o.every((function(e){return s.selection.some((function(t){return Ue(t,e)}))}))},st=function(e,t){return i.isNotEmpty(e)?e.find((function(e){return Ze(e,"columnKey")===t||Ze(e,"field")===t})):null},dt=function(e){return s.lazy?s.totalRecords:e?e.length:0},pt=function(e){var t=e.rowData,n=e.field,o=e.editingKey,r=e.editing,l=Se({},J),a=l[o];if(r)!a&&(a=l[o]={data:Se({},t),fields:[]}),a.fields.push(n);else if(a){var i=a.fields.filter((function(e){return e!==n}));i.length?a.fields=i:delete l[o]}q(l)},ft=function(){s.editMode&&i.isNotEmpty(J)&&q({})},mt=function(e){var t=e.originalEvent,n=e.column,o=u.getOffset(ae.current).left;Oe.current=n,De.current=t.currentTarget.parentElement,ke.current=!0,Ie.current=t.pageX-o+ae.current.scrollLeft,vt()},gt=function(e){var t=u.getOffset(ae.current).left;u.addClass(ae.current,"p-unselectable-text"),be.current.style.height=ae.current.offsetHeight+"px",be.current.style.top="0px",be.current.style.left=e.pageX-t+ae.current.scrollLeft+"px",be.current.style.display="block"},wt=function(){var e=be.current.offsetLeft-Ie.current,t=De.current.offsetWidth,n=t+e;if(t+e>parseInt(De.current.style.minWidth||15,10)){if("fit"===s.columnResizeMode){var o=De.current.nextElementSibling.offsetWidth-e;n>15&&o>15&&bt(n,o)}else if("expand"===s.columnResizeMode){var r=ie.current.offsetWidth+e+"px",l=function(e){e&&(e.style.width=e.style.minWidth=r)};l(ie.current),Ve()||(l(ue.current),l(se.current),ce.current&&l(u.findSingle(ce.current,".p-virtualscroller-content"))),bt(n)}s.onColumnResizeEnd&&s.onColumnResizeEnd({element:De.current,column:Oe.current,delta:e}),He()&&et()}be.current.style.display="none",Oe.current=null,De.current=null,u.removeClass(ae.current,"p-unselectable-text"),ht()},bt=function(e,t){var n=[],o=u.index(De.current);u.find(ie.current,".p-datatable-thead > tr > th").forEach((function(e){return n.push(u.getOuterWidth(e))})),kt(),Mt();var r="",l=".p-datatable[".concat(Z,"] > .p-datatable-wrapper > .p-datatable-table");n.forEach((function(n,a){var i=a===o?e:t&&a===o+1?t:n,c="width: ".concat(i,"px !important; max-width: ").concat(i,"px !important");r+="\n                ".concat(l," > .p-datatable-thead > tr > th:nth-child(").concat(a+1,"),\n                ").concat(l," > .p-datatable-tbody > tr > td:nth-child(").concat(a+1,"),\n                ").concat(l," > .p-datatable-tfoot > tr > td:nth-child(").concat(a+1,") {\n                    ").concat(c,"\n                }\n            ")})),Ee.current.innerHTML=r},vt=function(){je(),Ke()},ht=function(){Ae(),Be()},yt=function(e){u.clearSelection();var t=e.originalEvent,n=e.column;s.reorderableColumns&&!1!==Ze(n,"reorderable")&&!Ze(n,"frozen")&&(t.currentTarget.draggable="INPUT"!==t.target.nodeName&&"TEXTAREA"!==t.target.nodeName&&!u.hasClass(t.target,"p-column-resizer"))},Ct=function(e,t){if(s.onSelectAllChange)s.onSelectAllChange(e);else{var n=e.originalEvent,o=e.checked,r=s.selectionPageOnly?$t(t):t,l=s.selectionPageOnly&&s.selection?s.selection.filter((function(e){return!r.some((function(t){return Ue(e,t)}))})):[];o?(l=i.isNotEmpty(s.frozenValue)?[].concat(L(l),L(s.frozenValue),L(r)):[].concat(L(l),L(r)),l=ct(l),s.onAllRowsSelect&&s.onAllRowsSelect({originalEvent:n,data:l,type:"all"})):s.onAllRowsUnselect&&s.onAllRowsUnselect({originalEvent:n,data:l,type:"all"}),s.onSelectionChange&&s.onSelectionChange({originalEvent:n,value:l,type:"all"})}},Et=function(e){var t=e.originalEvent,n=e.column;ke.current?t.preventDefault():s.reorderableColumns&&(ge.current=u.getHiddenElementOuterWidth(fe.current),we.current=u.getHiddenElementOuterHeight(fe.current),he.current=n,ve.current=it(t.currentTarget),t.dataTransfer.setData("text","b"))},St=function(e){var t=e.originalEvent,n=e.column,o=it(t.currentTarget);if(s.reorderableColumns&&ve.current&&o&&!Ze(n,"frozen")&&(t.preventDefault(),ve.current!==o)){var r=u.getOffset(ae.current),l=u.getOffset(o),a=l.left-r.left,i=l.left+o.offsetWidth/2;fe.current.style.top=l.top-r.top-(we.current-1)+"px",me.current.style.top=l.top-r.top+o.offsetHeight+"px",t.pageX>i?(fe.current.style.left=a+o.offsetWidth-Math.ceil(ge.current/2)+"px",me.current.style.left=a+o.offsetWidth-Math.ceil(ge.current/2)+"px",ye.current=1):(fe.current.style.left=a-Math.ceil(ge.current/2)+"px",me.current.style.left=a-Math.ceil(ge.current/2)+"px",ye.current=-1),fe.current.style.display="block",me.current.style.display="block"}},Rt=function(e){s.reorderableColumns&&ve.current&&(e.originalEvent.preventDefault(),fe.current.style.display="none",me.current.style.display="none")},xt=function(e){var t=e.originalEvent,n=e.column;if(t.preventDefault(),ve.current){var o=u.index(ve.current),r=u.index(it(t.currentTarget)),l=o!==r;if(l&&(r-o==1&&-1===ye.current||o-r==1&&1===ye.current)&&(l=!1),l){var a=$e(),c=function(e,t){return Ze(e,"columnKey")||Ze(t,"columnKey")?i.equals(e.props,t.props,"columnKey"):i.equals(e.props,t.props,"field")},d=a.findIndex((function(e){return c(e,he.current)})),p=a.findIndex((function(e){return c(e,n)}));p<d&&1===ye.current&&p++,p>d&&-1===ye.current&&p--,i.reorderArray(a,d,p);var f=a.reduce((function(e,t){return e.push(Ze(t,"columnKey")||Ze(t,"field")),e}),[]);B(f),s.onColReorder&&s.onColReorder({originalEvent:t,dragIndex:d,dropIndex:p,columns:a})}fe.current.style.display="none",me.current.style.display="none",ve.current.draggable=!1,ve.current=null,he.current=null,ye.current=null}},Mt=function(){Ee.current=u.createInlineStyle(t.nonce)},Ot=function(){if(!Re.current){Re.current=u.createInlineStyle(t.nonce);var e=".p-datatable[".concat(Z,"] > .p-datatable-wrapper > .p-datatable-table"),n=".p-datatable[".concat(Z,"].p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table"),o="\n@media screen and (max-width: ".concat(s.breakpoint,") {\n    ").concat(e," > .p-datatable-thead > tr > th,\n    ").concat(e," > .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    ").concat(e," > .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    ").concat(e," > .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    ").concat(n,"] > .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    ").concat(e," > .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n");Re.current.innerHTML=o}},Dt=function(){Re.current=u.removeInlineStyle(Re.current)},kt=function(){Ee.current=u.removeInlineStyle(Ee.current)},It=function(e){ft(),s.onPage?s.onPage(Yt(e)):(y(e.first),S(e.rows)),s.onValueChange&&s.onValueChange(Zt())},Ft=function(e){ft();var t,n,o=e.originalEvent,r=e.column,l=e.sortableDisabledFields,a=Ze(r,"sortField")||Ze(r,"field"),i=s.defaultSortOrder;if(Fe.current=Ze(r,"sortable"),Pe.current=Ze(r,"sortFunction"),Ne.current=a,"multiple"===s.sortMode){var c=o.metaKey||o.ctrlKey,u=(t=L(qe())).find((function(e){return e.field===a}));i=u?Pt(u.order):i;var d={field:a,order:i};i?(t=c?t:t.filter((function(e){return l.some((function(t){return t===e.field}))})),zt(d,t)):s.removableSort&&Tt(d,t),n={multiSortMeta:t}}else i=_e()===a?Pt(Je()):i,s.removableSort&&(a=i?a:null),n={sortField:a,sortOrder:i};s.onSort?s.onSort(Yt(n)):(y(0),M(n.sortField),I(n.sortOrder),N(n.multiSortMeta)),s.onValueChange&&s.onValueChange(Zt({sortField:a,sortOrder:i,multiSortMeta:t}))},Pt=function(e){return s.removableSort?s.defaultSortOrder===e?-1*e:0:-1*e},Nt=function(e,n,o){return i.sort(e,n,o,t.locale,t.nullSortOrder)},zt=function(e,t){var n=t.findIndex((function(t){return t.field===e.field}));n>=0?t[n]=e:t.push(e)},Tt=function(e,t){var n=t.findIndex((function(t){return t.field===e.field}));n>=0&&t.splice(n,1),t=t.length>0?t:null},jt=function(e,t,n){if(s.groupRowsBy&&s.groupRowsBy===s.sortField){var o=[{field:s.sortField,order:s.sortOrder||s.defaultSortOrder}];return s.sortField!==t&&o.push({field:t,order:n}),At(e,o)}var r=L(e);return Fe.current&&Pe.current?r=Pe.current({data:e,field:t,order:n}):r.sort((function(e,o){var r=i.resolveFieldData(e,t),l=i.resolveFieldData(o,t);return Nt(r,l,n)})),r},At=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(s.groupRowsBy&&(W||t.length&&s.groupRowsBy===t[0].field)){var n=W,o=t[0];n||X(n=o),o.field!==n.field&&(t=[n].concat(L(t)))}var r=L(e);if(Fe.current&&Pe.current){var l=t.find((function(e){return e.field===Ne.current})),a=Ne.current,i=l?l.order:s.defaultSortOrder;r=Pe.current({data:e,field:a,order:i,multiSortMeta:t})}else r.sort((function(e,n){return Lt(e,n,t,0)}));return r},Lt=function e(n,o,r,l){var a=i.resolveFieldData(n,r[l].field),c=i.resolveFieldData(o,r[l].field);return 0===i.compare(a,c,t.locale)?r.length-1>l?e(n,o,r,l+1):0:Nt(a,c,r[l].order)},Kt=function(e){ft(),re(e)},Bt=function(e){clearTimeout(ze.current),ze.current=setTimeout((function(){var t=Vt(e||oe);s.onFilter?s.onFilter(Yt({filters:t})):(y(0),j(t)),s.onValueChange&&s.onValueChange(Zt({filters:t}))}),s.filterDelay)},Gt=function(e,t){if(e){t=t||{};var n,o=$e(),r=[],c=t.global||s.globalFilter;c&&(n=s.globalFilterFields||o.filter((function(e){return!Ze(e,"excludeGlobalFilter")})).map((function(e){return Ze(e,"filterField")||Ze(e,"field")})));for(var u=0;u<e.length;u++){var d=!0,p=!1,f=!1;for(var m in t)if("null"!==m&&Object.prototype.hasOwnProperty.call(t,m)&&"global"!==m){f=!0;var g=m,w=t[g];if(w.operator)for(var b=0;b<w.constraints.length;b++){if(d=Ht(g,e[u],w.constraints[b],b),w.operator===l.OR&&d||w.operator===l.AND&&!d)break}else d=Ht(g,e[u],w,0);if(!d)break}if(c&&!p&&n)for(var v=0;v<n.length;v++){var h=t.global?t.global.value:s.globalFilter;if(p=a.filters[t.global?t.global.matchMode:s.globalFilterMatchMode](i.resolveFieldData(e[u],n[v]),h,s.filterLocale))break}(c?f?f&&d&&p:p:f&&d)&&r.push(e[u])}return r.length===s.value.length&&(r=e),r}},Ht=function(e,t,o,r){var l=o.value,c="custom"===o.matchMode?"custom_".concat(e):o.matchMode||n.STARTS_WITH,u=i.resolveFieldData(t,e),d=a.filters[c];return i.isFunction(d)&&d(u,l,s.filterLocale,r)},Vt=function(e){var o={};if(e=e||s.filters)Object.entries(e).forEach((function(e){var t=H(e,2),n=t[1];o[t[0]]=n.operator?{operator:n.operator,constraints:n.constraints.map((function(e){return Se({},e)}))}:Se({},n)}));else{var r=$e();o=r.reduce((function(e,o){var r=Ze(o,"filterField")||Ze(o,"field"),i=Ze(o,"filterFunction"),c=Ze(o,"dataType"),u={value:null,matchMode:Ze(o,"filterMatchMode")||(t.filterMatchModeOptions[c]?t.filterMatchModeOptions[c][0]:n.STARTS_WITH)};return i&&a.register("custom_".concat(r),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(void 0,t.concat([{column:o}]))})),e[r]="menu"===s.filterDisplay?{operator:l.AND,constraints:[u]}:u,e}),{})}return o},Ut=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=Se({},oe),l=r[t],a=l&&l.operator?l.constraints[o]:l;a=l?{value:e,matchMode:n||a.matchMode}:{value:e,matchMode:n},"menu"===s.filterDisplay&&l&&l.operator?r[t].constraints[o]=a:r[t]=a,re(r),Bt(r)},Wt=function(){te(s.rows),re(Vt(s.filters)),X(null),q({}),s.onPage||(y(s.first),S(s.rows)),s.onSort||(M(s.sortField),I(s.sortOrder),N(s.multiSortMeta)),s.onFilter||j(s.filters),_t()},Xt=function(){ce.current&&(Ve()?ce.current:u.findSingle(ce.current,".p-virtualscroller")).scrollTo(0,0)},_t=function(){var e=$e(!0),t=[];e&&(t=e.reduce((function(e,t){return e.push(Ze(t,"columnKey")||Ze(t,"field")),e}),[])),B(t)},Jt=function(e){var t,n="\ufeff",o=$e();t=e&&e.selectionOnly?s.selection||[]:[].concat(L(s.frozenValue||[]),L(Zt()||[])),o.forEach((function(e,t){var r=[Ze(e,"field"),Ze(e,"header"),Ze(e,"exportable")],l=r[0];if(r[2]&&l){var a=String(r[1]||l).replace(/"/g,'""').replace(/\n/g,"\u2028");n+='"'+a+'"',t<o.length-1&&(n+=s.csvSeparator)}})),t.forEach((function(e){n+="\n",o.forEach((function(t,r){var l=[Ze(t,"field"),Ze(t,"exportField"),Ze(t,"exportable")],a=l[1]||l[0];if(l[2]&&a){var c=i.resolveFieldData(e,a);c=null!=c?s.exportFunction?s.exportFunction({data:c,field:a,rowData:e,column:t}):String(c).replace(/"/g,'""').replace(/\n/g,"\u2028"):"",n+='"'+c+'"',r<o.length-1&&(n+=s.csvSeparator)}}))})),u.exportCSV(n,s.exportFilename)},qt=function(){"row"!==s.editMode&&document.body.click()},Yt=function(e){return Se({first:We(),rows:Xe(),sortField:_e(),sortOrder:Je(),multiSortMeta:qe(),filters:Ye()},e)},Zt=function(e){var t=s.value||[];if(!s.lazy&&t&&t.length){var n=e&&e.filters||Ye(),o=e&&e.sortField||_e(),r=e&&e.sortOrder||Je(),l=e&&e.multiSortMeta||qe(),a=$e().find((function(e){return Ze(e,"field")===o}));a&&(Fe.current=Ze(a,"sortable"),Pe.current=Ze(a,"sortFunction")),(i.isNotEmpty(n)||s.globalFilter)&&(t=Gt(t,n)),(o||i.isNotEmpty(l))&&("single"===s.sortMode?t=jt(t,o,r):"multiple"===s.sortMode&&(t=At(t,l)))}return t},$t=function(e){if(e&&s.paginator){var t=s.lazy?0:We();return e.slice(t,t+Xe())}return e};b((function(){!Z&&$(d()),j(Vt(s.filters)),re(Vt(s.filters)),He()&&(nt(),s.resizableColumns&&at())})),f((function(){return Z&&(ae.current.setAttribute(Z,""),"stack"!==s.responsiveLayout||s.scrollable||Ot()),function(){Dt()}}),[Z,s.breakpoint]),f((function(){var e=Vt(s.filters);j(e),re(Vt(s.filters)),s.onValueChange&&s.onValueChange(Zt({filters:e}))}),[s.filters]),f((function(){He()&&et()})),f((function(){Dt(),"stack"!==s.responsiveLayout||s.scrollable||Ot()}),[s.responsiveLayout,s.scrollable]),f((function(){s.globalFilter?Ut(s.globalFilter,"global",s.globalFilterMatchMode):j(s.filters)}),[s.globalFilter,s.globalFilterMatchMode]),m((function(){ht(),kt(),Dt()})),e.useImperativeHandle(r,(function(){return{props:s,clearState:tt,closeEditingCell:qt,exportCSV:Jt,filter:Ut,reset:Wt,resetColumnOrder:_t,resetScroll:Xt,restoreColumnWidths:at,restoreState:nt,restoreTableState:ot,saveState:et,getElement:function(){return ae.current},getTable:function(){return ie.current},getVirtualScroller:function(){return pe.current}}}));var Qt=function(t,n){var o=_e(),r=Je(),l=L(qe()),a="single"===s.sortMode?s.sortField:W?W.field:null,i=oe,c=!s.onFilter&&s.filters||Ye();return e.createElement(Ce,{value:t.items,tableProps:s,columns:t.columns,tabIndex:s.tabIndex,empty:n,headerColumnGroup:s.headerColumnGroup,resizableColumns:s.resizableColumns,onColumnResizeStart:mt,onColumnResizerClick:s.onColumnResizerClick,onColumnResizerDoubleClick:s.onColumnResizerDoubleClick,sortMode:s.sortMode,sortField:o,sortOrder:r,multiSortMeta:l,groupRowsBy:s.groupRowsBy,groupRowSortField:a,onSortChange:Ft,filterDisplay:s.filterDisplay,filters:i,filtersStore:c,onFilterChange:Kt,onFilterApply:Bt,showSelectAll:s.showSelectAll,allRowsSelected:ut,onColumnCheckboxChange:Ct,onColumnMouseDown:yt,onColumnDragStart:Et,onColumnDragOver:St,onColumnDragLeave:Rt,onColumnDrop:xt,rowGroupMode:s.rowGroupMode,reorderableColumns:s.reorderableColumns})},en=function(t,n,o,r){var l=We(),a=t.rows,u=t.columns,d=t.contentRef,p=t.style,f=t.className,m=t.spacerStyle,g=t.itemSize,w=i.isNotEmpty(s.frozenValue)&&e.createElement(le,{ref:se,value:s.frozenValue,className:"p-datatable-tbody p-datatable-frozen-tbody",frozenRow:!0,tableProps:s,tableSelector:Z,columns:u,selectionModeInColumn:n,first:l,editingMeta:J,onEditingMetaChange:pt,tabIndex:s.tabIndex,onRowClick:s.onRowClick,onRowDoubleClick:s.onRowDoubleClick,onRowMouseEnter:s.onRowMouseEnter,onRowMouseLeave:s.onRowMouseLeave,onCellClick:s.onCellClick,selection:s.selection,onSelectionChange:s.onSelectionChange,lazy:s.lazy,paginator:s.paginator,onCellSelect:s.onCellSelect,onCellUnselect:s.onCellUnselect,onRowSelect:s.onRowSelect,onRowUnselect:s.onRowUnselect,dragSelection:s.dragSelection,onContextMenu:s.onContextMenu,onContextMenuSelectionChange:s.onContextMenuSelectionChange,metaKeySelection:s.metaKeySelection,selectionMode:s.selectionMode,cellSelection:s.cellSelection,contextMenuSelection:s.contextMenuSelection,dataKey:s.dataKey,expandedRows:s.expandedRows,onRowCollapse:s.onRowCollapse,onRowExpand:s.onRowExpand,onRowToggle:s.onRowToggle,editMode:s.editMode,editingRows:s.editingRows,onRowReorder:s.onRowReorder,reorderableRows:s.reorderableRows,scrollable:s.scrollable,rowGroupMode:s.rowGroupMode,groupRowsBy:s.groupRowsBy,expandableRowGroups:s.expandableRowGroups,loading:s.loading,emptyMessage:s.emptyMessage,rowGroupHeaderTemplate:s.rowGroupHeaderTemplate,rowExpansionTemplate:s.rowExpansionTemplate,rowGroupFooterTemplate:s.rowGroupFooterTemplate,onRowEditChange:s.onRowEditChange,compareSelectionBy:s.compareSelectionBy,selectOnEdit:s.selectOnEdit,onRowEditInit:s.onRowEditInit,rowEditValidator:s.rowEditValidator,onRowEditSave:s.onRowEditSave,onRowEditComplete:s.onRowEditComplete,onRowEditCancel:s.onRowEditCancel,cellClassName:s.cellClassName,responsiveLayout:s.responsiveLayout,selectionAutoFocus:s.selectionAutoFocus,isDataSelectable:s.isDataSelectable,showSelectionElement:s.showSelectionElement,showRowReorderElement:s.showRowReorderElement,expandedRowIcon:s.expandedRowIcon,collapsedRowIcon:s.collapsedRowIcon,rowClassName:s.rowClassName,virtualScrollerOptions:t,isVirtualScrollerDisabled:!0}),b=e.createElement(le,{ref:ue,value:$t(a),style:p,className:c("p-datatable-tbody",f),empty:o,frozenRow:!1,tableProps:s,tableSelector:Z,columns:u,selectionModeInColumn:n,first:l,editingMeta:J,onEditingMetaChange:pt,tabIndex:s.tabIndex,onRowClick:s.onRowClick,onRowDoubleClick:s.onRowDoubleClick,onRowMouseEnter:s.onRowMouseEnter,onRowMouseLeave:s.onRowMouseLeave,onCellClick:s.onCellClick,selection:s.selection,onSelectionChange:s.onSelectionChange,lazy:s.lazy,paginator:s.paginator,onCellSelect:s.onCellSelect,onCellUnselect:s.onCellUnselect,onRowSelect:s.onRowSelect,onRowUnselect:s.onRowUnselect,dragSelection:s.dragSelection,onContextMenu:s.onContextMenu,onContextMenuSelectionChange:s.onContextMenuSelectionChange,metaKeySelection:s.metaKeySelection,selectionMode:s.selectionMode,cellSelection:s.cellSelection,contextMenuSelection:s.contextMenuSelection,dataKey:s.dataKey,expandedRows:s.expandedRows,onRowCollapse:s.onRowCollapse,onRowExpand:s.onRowExpand,onRowToggle:s.onRowToggle,editMode:s.editMode,editingRows:s.editingRows,onRowReorder:s.onRowReorder,reorderableRows:s.reorderableRows,scrollable:s.scrollable,rowGroupMode:s.rowGroupMode,groupRowsBy:s.groupRowsBy,expandableRowGroups:s.expandableRowGroups,loading:s.loading,emptyMessage:s.emptyMessage,rowGroupHeaderTemplate:s.rowGroupHeaderTemplate,rowExpansionTemplate:s.rowExpansionTemplate,rowGroupFooterTemplate:s.rowGroupFooterTemplate,onRowEditChange:s.onRowEditChange,compareSelectionBy:s.compareSelectionBy,selectOnEdit:s.selectOnEdit,onRowEditInit:s.onRowEditInit,rowEditValidator:s.rowEditValidator,onRowEditSave:s.onRowEditSave,onRowEditComplete:s.onRowEditComplete,onRowEditCancel:s.onRowEditCancel,cellClassName:s.cellClassName,responsiveLayout:s.responsiveLayout,selectionAutoFocus:s.selectionAutoFocus,isDataSelectable:s.isDataSelectable,showSelectionElement:s.showSelectionElement,showRowReorderElement:s.showRowReorderElement,expandedRowIcon:s.expandedRowIcon,collapsedRowIcon:s.collapsedRowIcon,rowClassName:s.rowClassName,virtualScrollerContentRef:d,virtualScrollerOptions:t,isVirtualScrollerDisabled:r}),v=i.isNotEmpty(m)?e.createElement(le,{style:{height:"calc(".concat(m.height," - ").concat(a.length*g,"px)")},className:"p-datatable-virtualscroller-spacer"}):null;return e.createElement(e.Fragment,null,w,b,v)},tn=function(t){return e.createElement(de,{tableProps:s,columns:t.columns,footerColumnGroup:s.footerColumnGroup})},nn=function(t,n){var o=c("p-paginator-"+t,s.paginatorClassName);return e.createElement(v,{first:We(),rows:Xe(),pageLinkSize:s.pageLinkSize,className:o,onPageChange:It,template:s.paginatorTemplate,totalRecords:n,rowsPerPageOptions:s.rowsPerPageOptions,currentPageReportTemplate:s.currentPageReportTemplate,leftContent:s.paginatorLeft,rightContent:s.paginatorRight,alwaysShow:s.alwaysShowPaginator,dropdownAppendTo:s.paginatorDropdownAppendTo})},on=Zt(),rn=$e(),ln=dt(on),an=i.isEmpty(on),cn=function(e){if(e){var t=e.find((function(e){return!!Ze(e,"selectionMode")}));return t?Ze(t,"selectionMode"):null}return null}(rn),un=s.selectionMode||cn,sn=U.getOtherProps(s),dn=c("p-datatable p-component",{"p-datatable-hoverable-rows":s.rowHover,"p-datatable-selectable":un&&!s.cellSelection,"p-datatable-selectable-cell":un&&s.cellSelection,"p-datatable-resizable":s.resizableColumns,"p-datatable-resizable-fit":s.resizableColumns&&"fit"===s.columnResizeMode,"p-datatable-scrollable":s.scrollable,"p-datatable-flex-scrollable":s.scrollable&&"flex"===s.scrollHeight,"p-datatable-responsive-stack":"stack"===s.responsiveLayout,"p-datatable-responsive-scroll":"scroll"===s.responsiveLayout,"p-datatable-striped":s.stripedRows,"p-datatable-gridlines":s.showGridlines,"p-datatable-grouped-header":null!=s.headerColumnGroup,"p-datatable-grouped-footer":null!=s.footerColumnGroup,"p-datatable-sm":"small"===s.size,"p-datatable-lg":"large"===s.size},s.className),pn=function(){if(s.loading){var t=c("p-datatable-loading-icon pi-spin",s.loadingIcon);return e.createElement("div",{className:"p-datatable-loading-overlay p-component-overlay"},e.createElement("i",{className:t}))}return null}(),fn=function(){if(s.header){var t=i.getJSXElement(s.header,{props:s});return e.createElement("div",{className:"p-datatable-header"},t)}return null}(),mn=function(e){return s.paginator&&"bottom"!==s.paginatorPosition?nn("top",e):null}(ln),gn=function(t,n,o,r){if(n){var l=Ve(),a=s.virtualScrollerOptions||{};return e.createElement("div",{ref:ce,className:"p-datatable-wrapper",style:{maxHeight:l?s.scrollHeight:null}},e.createElement(h,D({ref:pe},a,{items:t,columns:n,style:Se(Se({},a.style),{height:"flex"!==s.scrollHeight?s.scrollHeight:void 0}),scrollHeight:"flex"!==s.scrollHeight?void 0:"100%",disabled:l,loaderDisabled:!0,inline:!0,autoSize:!0,showSpacer:!1,contentTemplate:function(t){var n=c("p-datatable-table",{"p-datatable-scrollable-table":s.scrollable,"p-datatable-resizable-table":s.resizableColumns,"p-datatable-resizable-table-fit":s.resizableColumns&&"fit"===s.columnResizeMode},s.tableClassName),a=Qt(t,r),i=en(t,o,r,l),u=tn(t);return e.createElement("table",{ref:function(e){ie.current=e,t.spacerRef&&t.spacerRef(e)},style:s.tableStyle,className:n,role:"table"},a,i,u)}})))}}(on,rn,cn,an),wn=function(e){return s.paginator&&"top"!==s.paginatorPosition?nn("bottom",e):null}(ln),bn=function(){if(s.footer){var t=i.getJSXElement(s.footer,{props:s});return e.createElement("div",{className:"p-datatable-footer"},t)}return null}(),vn=s.resizableColumns?e.createElement("div",{ref:be,className:"p-column-resizer-helper",style:{display:"none"}}):null,hn=function(){if(s.reorderableColumns){var t={position:"absolute",display:"none"};return e.createElement(e.Fragment,null,e.createElement("span",{ref:fe,className:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:t}),e.createElement("span",{ref:me,className:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:t}))}return null}();return e.createElement("div",D({ref:ae,id:s.id,className:dn,style:s.style},sn,{"data-scrollselectors":".p-datatable-wrapper"}),pn,fn,mn,gn,wn,bn,vn,hn)}));Re.displayName="DataTable";export{Re as DataTable};
